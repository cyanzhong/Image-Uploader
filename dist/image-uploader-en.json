{
  "actions": [
    {
      "type": "@comment",
      "parameters": {
        "text": {
          "value": "All-in-one image uploading tool, designed for Taio, fully open-sourced: https://github.com/cyanzhong/Image-Uploader"
        }
      }
    },
    {
      "type": "@editor.filename",
      "parameters": {
        "mode": 2,
        "includeExtension": true
      }
    },
    {
      "type": "@flow.set-variable",
      "parameters": {
        "value": {
          "value": "$",
          "tokens": [
            {
              "location": 0,
              "value": "@input"
            }
          ]
        },
        "name": {
          "value": "sourceFilePath"
        }
      }
    },
    {
      "type": "@flow.javascript",
      "parameters": {
        "script": {
          "value": "(()=>{var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:{},t={},n={},i=e.parcelRequire94c2;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var s=new Error(\"Cannot find module '\"+e+\"'\");throw s.code=\"MODULE_NOT_FOUND\",s}).register=function(e,t){n[e]=t},e.parcelRequire94c2=i),i.register(\"aVh5T\",(function(e,t){var n=i(\"cNX4H\"),o=i(\"cD1Wh\"),s=i(\"3aqxa\"),r=i(\"lY7sD\"),a=i(\"kPrPt\"),l=i(\"f30YM\"),c=i(\"en7Ar\"),u=i(\"8ZsIi\"),h=i(\"4VTYh\"),p=i(\"bvlBL\"),d=i(\"lp7dv\"),f=i(\"iKiZL\"),m=i(\"15llP\");const g={data:h.all(),bulkEditing:!1,selectedIndices:[]},_={main:()=>$(\"history-view\"),empty:()=>$(\"history-empty\"),toolbar:()=>$(\"main-toolbar\"),numberOfUploads:()=>$(\"number-of-uploads\")},y={reloadData:E,toggleBulkEditing:S,endBulkEditing:A,selectAll:function(e=null){g.bulkEditing||S();g.selectedIndices=[];for(let t=0;t<g.data.length;++t)(null==e||e(t))&&g.selectedIndices.push(t);E(),d.light()},deselectAll:function(){if(!g.bulkEditing)return;g.selectedIndices=[],E(),d.light()},reloadFooter:k,reloadToolbar:w},b=e=>({insertIntoDocument:()=>o.insertIntoDocument(g,e),copyURL:()=>o.copyURL(g,e),copyHTML:()=>o.copyHTML(g,e),copyMarkdown:()=>o.copyMarkdown(g,e),copyBBCode:()=>o.copyBBCode(g,e),openInBrowser:()=>o.openInBrowser(g,e),deleteItem:()=>{o.deleteItem(_,g,e,y),$ui.pop()}});function v(e){(()=>{const t=_.numberOfUploads();t.sizeToFit(),t.center=$point(.5*e.frame.width,e.contentSize.height-.5*(l.footerHeight+l.spacingOfCells))})(),(()=>{const e=_.toolbar(),t=$(\"upload-button\"),n=$(\"upload-image\"),i=$(\"upload-label\");i.sizeToFit();const o=i.frame.width+10+n.frame.width;if(u.onMac){const n=o+20;t.frame=$rect(.5*(e.frame.width-n),e.frame.y,n,e.frame.height)}else t.frame=e.frame;n.frame=$rect(.5*(t.frame.width-o),.5*(t.frame.height-n.frame.height),n.frame.width,n.frame.height),i.frame=$rect(n.frame.x+n.frame.width+10,.5*(t.frame.height-i.frame.height),i.frame.width,i.frame.height)})()}function E(e=!1){const t=_.main();t.hidden=0===g.data.length,t.data=s.makeMainCells(g,b);const n=_.empty(),i=t.hidden?1:0;e?$ui.animate({duration:.3,animation:()=>n.alpha=i}):n.alpha=i,k(),w()}function k(){const e=_.numberOfUploads(),t=g.data.filter((e=>!p.isUploading(e))).length;e.hidden=0===t,e.text=`${t} ${1==t?r.number_of_uploads_singular:r.number_of_uploads_plural}`}function w(){const e=g.bulkEditing,t=$(\"bulk-action-button\");$ui.animate({duration:.3,animation:()=>{$(\"upload-button\").alpha=e?0:1,$(\"bulk-done-button\").hidden=!e,t.hidden=!e,t.enabled=g.selectedIndices.length>0,t.title=t.enabled?`${r.bulk_actions} (${g.selectedIndices.length})`:r.bulk_actions,t.titleColor=t.enabled?a.tint:a.gray}})}function S(){g.bulkEditing=!g.bulkEditing,g.selectedIndices=[],E()}function A(e=!1){g.bulkEditing=!1,g.selectedIndices=[],E(e)}e.exports=function(){$ui.render({props:{title:\"\",formSheet:!0,navButtons:n.buildMainMenu(g,y),keyCommands:[{input:\"V\",modifiers:1048576,title:r.source_clipboard,handler:()=>{const{sources:e}=i(\"cWFKr\"),{selectImages:t}=i(\"04vlo\");t(e.clipboard,_,g,y)}}]},views:[{type:\"matrix\",props:{id:\"history-view\",spacing:l.spacingOfCells,contentInset:$insets(0,0,l.toolbarHeight,0),indicatorInsets:$insets(0,0,l.toolbarHeight,0),menu:n.buildContextMenu(b),footer:{type:\"view\",props:{height:l.footerHeight}},template:c.table},layout:(e,t)=>{e.left.equalTo(t.super.safeAreaLeft),e.right.equalTo(t.super.safeAreaRight),e.top.bottom.equalTo(0)},events:{highlighted:()=>{},layoutSubviews:v,itemSize:e=>{const t=f.thumbColumns(),n=l.spacingOfCells,i=Math.floor((e.frame.width-n*(t+1))/t);return $size(i,i)},didSelect:(e,t)=>{g.bulkEditing?function(e){const t=g.selectedIndices,n=t.indexOf(e.item);-1===n?t.push(e.item):t.splice(n,1);E(),d.light()}(t):function(e){const t=g.data[e.item];if(p.isUploading(t))return;if(!t.remotePath)return void $ui.alert({title:r.upload_failed,message:t.error,actions:[{title:r.delete,style:$alertActionType.destructive,handler:()=>o.deleteItem(_,g,e,y)},{title:r.cancel,style:$alertActionType.cancel}]});i(\"4wRVo\").push(t,_.main(),b(e))}(t)}},views:[{type:\"label\",props:{id:\"number-of-uploads\",font:$font(l.footerFontSize),align:$align.center}}]},...s.makeToolbar(\"main-toolbar\"),{type:\"button\",props:{id:\"upload-button\",bgcolor:a.clear,accessibilityLabel:r.upload_image,menu:n.buildUploadMenu(_,g,y)},views:[{type:\"image\",props:{id:\"upload-image\",symbol:m.plus_fill,tintColor:a.blue,frame:$rect(0,0,25,25)}},{type:\"label\",props:{id:\"upload-label\",text:r.upload_image,textColor:a.tint}}]},{type:\"button\",props:{id:\"bulk-action-button\",enabled:!1,hidden:!0,title:r.bulk_actions,titleColor:a.gray,bgcolor:a.clear,menu:n.buildBulkMenu(_,g,y)},layout:(e,t)=>{e.top.bottom.equalTo(_.toolbar()),e.left.equalTo(t.super.safeAreaLeft).inset(20)}},{type:\"button\",props:{id:\"bulk-done-button\",hidden:!0,title:r.done,titleColor:a.tint,bgcolor:a.clear},layout:(e,t)=>{e.top.bottom.equalTo(_.toolbar()),e.right.equalTo(t.super.safeAreaRight).inset(20)},events:{tapped:A}},{type:\"label\",props:{id:\"history-empty\",text:r.history_empty_text,textColor:a.lightGray,align:$align.center},layout:(e,t)=>{e.centerX.equalTo(t.super),e.top.equalTo(0),e.bottom.equalTo(_.toolbar().top)}}]}),E()}})),i.register(\"cNX4H\",(function(e,t){var n=i(\"8ZsIi\"),o=i(\"cWFKr\"),s=i(\"lY7sD\"),r=i(\"15llP\"),a=i(\"4VTYh\"),l=i(\"j9tXU\"),c=i(\"lp7dv\");e.exports={buildMainMenu:function(e,t){const{reloadData:n,toggleBulkEditing:o,endBulkEditing:l,selectAll:u,deselectAll:h}=t;return[{title:s.settings,symbol:r.ellipsis,handler:e=>{i(\"iKiZL\").open(n)}},{title:s.backup_images,symbol:r.icloud,menu:{pullDown:!0,asPrimary:!0,items:[{title:s.backup_images,symbol:r.upload,handler:()=>a.backup()},{title:s.restore_images,symbol:r.download,handler:()=>a.restore((()=>{e.data=a.all(),l(!0),c.success()}))}]}},{title:s.uploaders,symbol:r.drive,handler:e=>{const t=i(\"bWprA\");$ui.push(t)}},{title:s.bulk_edit,symbol:r.bulk_edit,menu:{pullDown:!0,asPrimary:!0,items:[{title:s.bulk_edit,symbol:r.edit,handler:o},{title:s.select_all,symbol:r.selected,handler:()=>u()},{title:s.select_failed,symbol:r.selected,handler:()=>u((t=>null==e.data[t].remotePath))},{title:s.deselect_all,symbol:r.unselected,handler:h}]}}]},buildUploadMenu:function(e,t,a){const l=n=>{const{selectImages:o}=i(\"04vlo\");return o(n,e,t,a)};return{pullDown:!0,asPrimary:!0,items:(()=>{const e=[{title:s.source_clipboard,symbol:r.plaintext,handler:()=>l(o.sources.clipboard)},{title:s.source_camera,symbol:r.camera,handler:()=>l(o.sources.camera)},{title:s.source_files,symbol:r.folder,handler:()=>l(o.sources.files)},{title:s.source_photos,symbol:r.photos,handler:()=>l(o.sources.photos)}];return n.onTaio&&e.push({title:s.source_document,symbol:r.plaintext,handler:()=>l(o.sources.document)}),n.onMac?e.reverse():e.unshift({title:s.source_scanner,symbol:r.scanner,handler:()=>l(o.sources.scanner)}),e})()}},buildContextMenu:function(e){return[...n.onTaio?[{title:s.insert_into_document,symbol:r.text_insert,handler:(t,n)=>e(n).insertIntoDocument()}]:[],{title:s.copy_url,symbol:r.link,handler:(t,n)=>e(n).copyURL()},{title:s.copy_html,symbol:r.html,handler:(t,n)=>e(n).copyHTML()},{title:s.copy_markdown,symbol:r.markdown,handler:(t,n)=>e(n).copyMarkdown()},{title:s.copy_bbcode,symbol:r.bbcode,handler:(t,n)=>e(n).copyBBCode()},{title:s.open_in_browser,symbol:r.safari,handler:(t,n)=>e(n).openInBrowser()},{title:s.delete,symbol:r.trash,destructive:!0,handler:(t,n)=>e(n).deleteItem()}]},buildBulkMenu:function(e,t,o){const{selectedText:a,deleteTapped:c,insertTapped:u}=i(\"cqxF7\"),h=i(\"lSKqC\"),p=e=>l.copyText(a(t,e));return{pullDown:!0,asPrimary:!0,items:(()=>{const i=[{title:s.delete,symbol:r.trash,destructive:!0,handler:n=>c(e,t,o)},{title:s.copy_bbcode,symbol:r.bbcode,handler:e=>p(h.itemBBCode)},{title:s.copy_markdown,symbol:r.markdown,handler:e=>p(h.itemMarkdown)},{title:s.copy_html,symbol:r.html,handler:e=>p(h.itemHTML)},{title:s.copy_url,symbol:r.link,handler:e=>p(h.itemURL)}];return n.onTaio&&i.push({title:s.insert_into_document,symbol:r.text_insert,handler:e=>u(t)}),n.onMac?i.reverse():i})()}}}})),i.register(\"8ZsIi\",(function(e,t){const n=!$device.info.model.startsWith(\"iP\"),o=$app.info.bundleID.includes(\"taio\");var s=i(\"lY7sD\"),r=i(\"lp7dv\");const a={localize:c,crypto:i(\"2zO9M\"),encode:{base64:e=>$text.base64Encode(e),sha256:e=>$text.SHA256(e),md5:e=>$text.MD5(e)}},l=(()=>{const e=$actions.getVar(\"sourceFilePath\");return e||$file.absolutePath(\"tests/Demo.md\")})();function c(e){return e&&\"string\"!=typeof e?e[s.language_tag]||e.en||`${e}`:e}function u(e){return`image/${(()=>{const t=e.fileName||\"\";return t.includes(\".\")?t.split(\".\").pop():\"png\"})().toLowerCase()}`}function h(e){return e.split(\"/\").pop()}function p(e){return e.replace(/\\.[^/.]+$/,\"\")}function d(e){const t=[],n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";for(let i=0;i<e;++i)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join(\"\")}e.exports={injectable:a,sourceFilePath:l,onMac:n,onTaio:o,localize:c,mimeType:u,fileName:function(e,t){const n=new Date,i=e.fileName||d(6),o=e=>e>=10?`${e}`:`0${e}`,s={year:n.getFullYear(),month:o(n.getMonth()+1),day:o(n.getDate()),hour:o(n.getHours()),minute:o(n.getMinutes()),second:o(n.getSeconds()),timestamp:n.getTime(),filename:p(i),suffix:i.includes(\".\")?i.split(\".\").pop():h(u(e)),uuid:$text.uuid,random:d(6)};let r=`${t}`;return Object.keys(s).forEach((e=>{r=r.replaceAll(`{${e}}`,s[e])})),encodeURI(r)},lastPath:h,deleteExtension:p,isEncrypted:function(e){return\"string\"==typeof e&&e.startsWith(\"id:\")},insertIntoDocument:function(e){r.success(),$editor.insertText(e+\"\\n\\n\"),$editor.save(),$app.close(.4)},replaceIntoDocument:function(e){e.sort(((e,t)=>t.local.range.location-e.local.range.location));let t=$editor.text;for(const s of e){const e=s.local.range,r=s.uploaded.remotePath;n=e.location,i=e.length,o=r,t=t.substring(0,n)+o+t.substring(n+i)}var n,i,o;$editor.text=t,$editor.save(),$ui.alert({title:s.delete_local_images_title,message:s.delete_local_images_message,actions:[{title:s.delete,style:$alertActionType.destructive,handler:()=>{for(const t of e)$file.delete(t.local.fullPath);r.success()}},{title:s.cancel,style:$alertActionType.cancel}]})}}})),i.register(\"lY7sD\",(function(e,t){e.exports={language_tag:$l10n(\"LANGUAGE_TAG\"),ok:$l10n(\"OK\"),cancel:$l10n(\"CANCEL\"),upload_image:$l10n(\"UPLOAD_IMAGE\"),uploaders:$l10n(\"UPLOADERS\"),settings:$l10n(\"SETTINGS\"),no_uploader_title:$l10n(\"NO_UPLOADER_TITLE\"),no_uploader_message:$l10n(\"NO_UPLOADER_MESSAGE\"),add_uploader:$l10n(\"ADD_UPLOADER\"),tips:$l10n(\"TIPS\"),uploaders_tips:$l10n(\"UPLOADERS_TIPS\"),uploaders_empty_text:$l10n(\"UPLOADERS_EMPTY_TEXT\"),uploader_name:$l10n(\"UPLOADER_NAME\"),file_path:$l10n(\"FILE_PATH\"),file_path_docs_title:$l10n(\"FILE_PATH_DOCS_TITLE\"),file_path_docs_content:$l10n(\"FILE_PATH_DOCS_CONTENT\"),source_document:$l10n(\"SOURCE_DOCUMENT\"),source_files:$l10n(\"SOURCE_FILES\"),source_photos:$l10n(\"SOURCE_PHOTOS\"),source_camera:$l10n(\"SOURCE_CAMERA\"),source_scanner:$l10n(\"SOURCE_SCANNER\"),source_clipboard:$l10n(\"SOURCE_CLIPBOARD\"),select_uploader:$l10n(\"SELECT_UPLODER\"),config_uploader_message:$l10n(\"CONFIG_UPLOADER_MESSAGE\"),history_empty_text:$l10n(\"HISTORY_EMPTY_TEXT\"),number_of_uploads_singular:$l10n(\"NUMBER_OF_UPLOADS_SINGULAR\"),number_of_uploads_plural:$l10n(\"NUMBER_OF_UPLOADS_PLURAL\"),finished_with_errors:$l10n(\"FINISHED_WITH_ERRORS\"),failed_to_upload_singular:$l10n(\"FAILED_TO_UPLOAD_SINGULAR\"),failed_to_upload_plural:$l10n(\"FAILED_TO_UPLOAD_PLURAL\"),upload_failed:$l10n(\"UPLOAD_FAILED\"),check_out_errors:$l10n(\"CHECK_OUT_ERRORS\"),bulk_edit:$l10n(\"BULK_EDIT\"),select_all:$l10n(\"SELECT_ALL\"),select_failed:$l10n(\"SELECT_FAILED\"),deselect_all:$l10n(\"DESELECT_ALL\"),copy:$l10n(\"COPY\"),insert_into_document:$l10n(\"INSERT_INTO_DOCUMENT\"),copy_url:$l10n(\"COPY_URL\"),copy_markdown:$l10n(\"COPY_MARKDOWN\"),copy_html:$l10n(\"COPY_HTML\"),copy_bbcode:$l10n(\"COPY_BBCODE\"),open_in_browser:$l10n(\"OPEN_IN_BROWSER\"),delete:$l10n(\"DELETE\"),delete_selected:$l10n(\"DELETE_SELECTED\"),done:$l10n(\"DONE\"),cannot_undo:$l10n(\"CANNOT_UNDO\"),upload_errors:$l10n(\"UPLOAD_ERRORS\"),share:$l10n(\"SHARE\"),cannot_load_image:$l10n(\"CANNOT_LOAD_IMAGE\"),bulk_actions:$l10n(\"BULK_ACTIONS\"),delete_remote_file:$l10n(\"DELETE_REMOTE_FILE\"),about:$l10n(\"ABOUT\"),source_code:$l10n(\"SOURCE_CODE\"),compress_images:$l10n(\"COMPRESS_IMAGES\"),compress_quality:$l10n(\"COMPRESS_QUALITY\"),image_size:$l10n(\"IMAGE_SIZE\"),quality_low:$l10n(\"QUALITY_LOW\"),quality_medium:$l10n(\"QUALITY_MEDIUM\"),quality_high:$l10n(\"QUALITY_HIGH\"),size_raw:$l10n(\"SIZE_RAW\"),size_large:$l10n(\"SIZE_LARGE\"),size_medium:$l10n(\"SIZE_MEDIUM\"),size_small:$l10n(\"SIZE_SMALL\"),only_upload:$l10n(\"ONLY_UPLOAD\"),upload_and_replace:$l10n(\"UPLOAD_AND_REPLACE\"),no_local_images:$l10n(\"NO_LOCAL_IMAGES\"),delete_local_images_title:$l10n(\"DELETE_LOCAL_IMAGES_TITLE\"),delete_local_images_message:$l10n(\"DELETE_LOCAL_IMAGES_MESSAGE\"),default_image_alt:$l10n(\"DEFAULT_IMAGE_ALT\"),selected:$l10n(\"SELECTED\"),double_tap_to_select:$l10n(\"DOUBLE_TAP_TO_SELECT\"),uploading:$l10n(\"UPLOADING\"),options:$l10n(\"OPTIONS\"),backup_images:$l10n(\"BACKUP_IMAGES\"),restore_images:$l10n(\"RESTORE_IMAGES\"),restore_images_message:$l10n(\"RESTORE_IMAGES_MESSAGE\"),archive:$l10n(\"ARCHIVE\"),image_width:$l10n(\"IMAGE_WIDTH\"),image_height:$l10n(\"IMAGE_HEIGHT\"),merge:$l10n(\"MERGE\"),overwrite:$l10n(\"OVERWRITE\"),found_new_version:$l10n(\"FOUND_NEW_VERSION\"),update_to_new_version:$l10n(\"UPDATE_TO_NEW_VERSION\"),update:$l10n(\"UPDATE\"),docs_url:$l10n(\"DOCS_URL\"),taio_update_url:$l10n(\"TAIO_UPDATE_URL\"),thumbnail_columns:$l10n(\"THUMBNAIL_COLUMNS\"),thumbnail_size:$l10n(\"THUMBNAIL_SIZE\"),learn_more:$l10n(\"LEARN_MORE\"),current_version:$l10n(\"CURRENT_VERSION\"),get_latest_version:$l10n(\"GET_LATEST_VERSION\"),toggle_editing:$l10n(\"TOGGLE_EDITING\")}})),i.register(\"lp7dv\",(function(e,t){const n=$objc(\"UINotificationFeedbackGenerator\").$new();e.exports={light:function(){$device.taptic(1)},success:function(){n.$notificationOccurred(0)},error:function(){n.$notificationOccurred(2)}}})),i.register(\"2zO9M\",(function(t,n){var i,o;i=this,o=function(){var t,n,i,o,s,r,a,l,c,u,h,p,d,f,m,g,_,y,b,v,E,$,k,w,S,A,T,O,I,z,D,C,P,H,L,x,R,B,U,M=M||function(t){var n;if(\"undefined\"!=typeof window&&window.crypto&&(n=window.crypto),\"undefined\"!=typeof self&&self.crypto&&(n=self.crypto),!(n=!(n=!(n=\"undefined\"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:n)&&\"undefined\"!=typeof window&&window.msCrypto?window.msCrypto:n)&&void 0!==e&&e.crypto?e.crypto:n))try{n=$1e05c1c35e86b466$import$7effb53edfc7fa2d}catch(e){}var i=Object.create||function(e){return o.prototype=e,e=new o,o.prototype=null,e};function o(){}var s={},r=s.lib={},a=r.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty(\"init\")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var s=0;s<o;s++){var r=n[s>>>2]>>>24-s%4*8&255;t[i+s>>>2]|=r<<24-(i+s)%4*8}else for(var a=0;a<o;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(function(){if(n){if(\"function\"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if(\"function\"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error(\"Native crypto module could not be used to get secure random number.\")}());return new l.init(t,e)}}),c=s.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=t[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join(\"\")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new l.init(n,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=t[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(s))}return i.join(\"\")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new l.init(n,t)}},p=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error(\"Malformed UTF-8 data\")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var n,i=this._data,o=i.words,s=i.sigBytes,r=this.blockSize,a=s/(4*r),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*r;if(s=t.min(4*c,s),c){for(var u=0;u<c;u+=r)this._doProcessBlock(o,u);n=o.splice(0,c),i.sigBytes-=s}return new l.init(n,s)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);function N(e,t,n){return e&t|~e&n}function j(e,t,n){return e&n|t&~n}function F(e,t){return e<<t|e>>>32-t}function q(e,t,n,i){var o,s=this._iv;s?(o=s.slice(0),this._iv=void 0):o=this._prevBlock,i.encryptBlock(o,0);for(var r=0;r<n;r++)e[t+r]^=o[r]}function G(e){var t,n,i;return 255==(e>>24&255)?(n=e>>8&255,i=255&e,255==(t=e>>16&255)?(t=0,255===n?(n=0,255===i?i=0:++i):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=i):e+=16777216,e}function K(){for(var e=this._X,t=this._C,n=0;n<8;n++)C[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<C[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<C[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<C[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<C[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<C[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<C[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<C[6]>>>0?1:0)|0,this._b=t[7]>>>0<C[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16;P[n]=((o*o>>>17)+o*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}e[0]=P[0]+(P[7]<<16|P[7]>>>16)+(P[6]<<16|P[6]>>>16)|0,e[1]=P[1]+(P[0]<<8|P[0]>>>24)+P[7]|0,e[2]=P[2]+(P[1]<<16|P[1]>>>16)+(P[0]<<16|P[0]>>>16)|0,e[3]=P[3]+(P[2]<<8|P[2]>>>24)+P[1]|0,e[4]=P[4]+(P[3]<<16|P[3]>>>16)+(P[2]<<16|P[2]>>>16)|0,e[5]=P[5]+(P[4]<<8|P[4]>>>24)+P[3]|0,e[6]=P[6]+(P[5]<<16|P[5]>>>16)+(P[4]<<16|P[4]>>>16)|0,e[7]=P[7]+(P[6]<<8|P[6]>>>24)+P[5]|0}function W(){for(var e=this._X,t=this._C,n=0;n<8;n++)B[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<B[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<B[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<B[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<B[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<B[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<B[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<B[6]>>>0?1:0)|0,this._b=t[7]>>>0<B[7]>>>0?1:0,n=0;n<8;n++){var i=e[n]+t[n],o=65535&i,s=i>>>16;U[n]=((o*o>>>17)+o*s>>>15)+s*s^((4294901760&i)*i|0)+((65535&i)*i|0)}e[0]=U[0]+(U[7]<<16|U[7]>>>16)+(U[6]<<16|U[6]>>>16)|0,e[1]=U[1]+(U[0]<<8|U[0]>>>24)+U[7]|0,e[2]=U[2]+(U[1]<<16|U[1]>>>16)+(U[0]<<16|U[0]>>>16)|0,e[3]=U[3]+(U[2]<<8|U[2]>>>24)+U[1]|0,e[4]=U[4]+(U[3]<<16|U[3]>>>16)+(U[2]<<16|U[2]>>>16)|0,e[5]=U[5]+(U[4]<<8|U[4]>>>24)+U[3]|0,e[6]=U[6]+(U[5]<<16|U[5]>>>16)+(U[4]<<16|U[4]>>>16)|0,e[7]=U[7]+(U[6]<<8|U[6]>>>24)+U[5]|0}return L=(H=M).lib,t=L.Base,n=L.WordArray,(H=H.x64={}).Word=t.extend({init:function(e,t){this.high=e,this.low=t}}),H.WordArray=t.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],o=0;o<t;o++){var s=e[o];i.push(s.high),i.push(s.low)}return n.create(i,this.sigBytes)},clone:function(){for(var e=t.clone.call(this),n=e.words=this.words.slice(0),i=n.length,o=0;o<i;o++)n[o]=n[o].clone();return e}}),\"function\"==typeof ArrayBuffer&&(x=M.lib.WordArray,i=x.init,(x.init=function(e){if((e=(e=e instanceof ArrayBuffer?new Uint8Array(e):e)instanceof Int8Array||\"undefined\"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e)instanceof Uint8Array){for(var t=e.byteLength,n=[],o=0;o<t;o++)n[o>>>2]|=e[o]<<24-o%4*8;i.call(this,n,t)}else i.apply(this,arguments)}).prototype=x),function(){var e,t=(e=M).lib.WordArray;function n(e){return e<<8&4278255360|e>>>8&16711935}(e=e.enc).Utf16=e.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var s=t[o>>>2]>>>16-o%4*8&65535;i.push(String.fromCharCode(s))}return i.join(\"\")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(i,2*n)}},e.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,o=[],s=0;s<i;s+=2){var r=n(t[s>>>2]>>>16-s%4*8&65535);o.push(String.fromCharCode(r))}return o.join(\"\")},parse:function(e){for(var i=e.length,o=[],s=0;s<i;s++)o[s>>>1]|=n(e.charCodeAt(s)<<16-s%2*16);return t.create(o,2*i)}}}(),o=(T=M).lib.WordArray,T.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var o=[],s=0;s<n;s+=3)for(var r=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<n;a++)o.push(i.charAt(r>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join(\"\")},parse:function(e){var t=e.length,n=this._map;if(!(i=this._reverseMap))for(var i=this._reverseMap=[],s=0;s<n.length;s++)i[n.charCodeAt(s)]=s;var r=n.charAt(64);return!r||-1!==(r=e.indexOf(r))&&(t=r),function(e,t,n){for(var i=[],s=0,r=0;r<t;r++){var a,l;r%4&&(a=n[e.charCodeAt(r-1)]<<r%4*2,l=n[e.charCodeAt(r)]>>>6-r%4*2,l|=a,i[s>>>2]|=l<<24-s%4*8,s++)}return o.create(i,s)}(e,t,i)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"},s=(L=M).lib.WordArray,L.enc.Base64url={stringify:function(e,t=!0){var n=e.words,i=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var s=[],r=0;r<i;r+=3)for(var a=(n[r>>>2]>>>24-r%4*8&255)<<16|(n[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|n[r+2>>>2]>>>24-(r+2)%4*8&255,l=0;l<4&&r+.75*l<i;l++)s.push(o.charAt(a>>>6*(3-l)&63));var c=o.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join(\"\")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],r=0;r<i.length;r++)o[i.charCodeAt(r)]=r;return!(t=i.charAt(64))||-1!==(t=e.indexOf(t))&&(n=t),function(e,t,n){for(var i=[],o=0,r=0;r<t;r++){var a,l;r%4&&(a=n[e.charCodeAt(r-1)]<<r%4*2,l=n[e.charCodeAt(r)]>>>6-r%4*2,l|=a,i[o>>>2]|=l<<24-o%4*8,o++)}return s.create(i,o)}(e,n,o)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",_safe_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"},function(e){var t=M,n=(o=t.lib).WordArray,i=o.Hasher,o=t.algo,s=[];function r(e,t,n,i,o,s,r){return((r=e+(t&n|~t&i)+o+r)<<s|r>>>32-s)+t}function a(e,t,n,i,o,s,r){return((r=e+(t&i|n&~i)+o+r)<<s|r>>>32-s)+t}function l(e,t,n,i,o,s,r){return((r=e+(t^n^i)+o+r)<<s|r>>>32-s)+t}function c(e,t,n,i,o,s,r){return((r=e+(n^(t|~i))+o+r)<<s|r>>>32-s)+t}!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}(),o=o.MD5=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var u=this._hash.words,h=e[t+0],p=e[t+1],d=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],_=e[t+6],y=e[t+7],b=e[t+8],v=e[t+9],E=e[t+10],$=e[t+11],k=e[t+12],w=e[t+13],S=e[t+14],A=e[t+15],T=r(T=u[0],z=u[1],I=u[2],O=u[3],h,7,s[0]),O=r(O,T,z,I,p,12,s[1]),I=r(I,O,T,z,d,17,s[2]),z=r(z,I,O,T,f,22,s[3]);T=r(T,z,I,O,m,7,s[4]),O=r(O,T,z,I,g,12,s[5]),I=r(I,O,T,z,_,17,s[6]),z=r(z,I,O,T,y,22,s[7]),T=r(T,z,I,O,b,7,s[8]),O=r(O,T,z,I,v,12,s[9]),I=r(I,O,T,z,E,17,s[10]),z=r(z,I,O,T,$,22,s[11]),T=r(T,z,I,O,k,7,s[12]),O=r(O,T,z,I,w,12,s[13]),I=r(I,O,T,z,S,17,s[14]),T=a(T,z=r(z,I,O,T,A,22,s[15]),I,O,p,5,s[16]),O=a(O,T,z,I,_,9,s[17]),I=a(I,O,T,z,$,14,s[18]),z=a(z,I,O,T,h,20,s[19]),T=a(T,z,I,O,g,5,s[20]),O=a(O,T,z,I,E,9,s[21]),I=a(I,O,T,z,A,14,s[22]),z=a(z,I,O,T,m,20,s[23]),T=a(T,z,I,O,v,5,s[24]),O=a(O,T,z,I,S,9,s[25]),I=a(I,O,T,z,f,14,s[26]),z=a(z,I,O,T,b,20,s[27]),T=a(T,z,I,O,w,5,s[28]),O=a(O,T,z,I,d,9,s[29]),I=a(I,O,T,z,y,14,s[30]),T=l(T,z=a(z,I,O,T,k,20,s[31]),I,O,g,4,s[32]),O=l(O,T,z,I,b,11,s[33]),I=l(I,O,T,z,$,16,s[34]),z=l(z,I,O,T,S,23,s[35]),T=l(T,z,I,O,p,4,s[36]),O=l(O,T,z,I,m,11,s[37]),I=l(I,O,T,z,y,16,s[38]),z=l(z,I,O,T,E,23,s[39]),T=l(T,z,I,O,w,4,s[40]),O=l(O,T,z,I,h,11,s[41]),I=l(I,O,T,z,f,16,s[42]),z=l(z,I,O,T,_,23,s[43]),T=l(T,z,I,O,v,4,s[44]),O=l(O,T,z,I,k,11,s[45]),I=l(I,O,T,z,A,16,s[46]),T=c(T,z=l(z,I,O,T,d,23,s[47]),I,O,h,6,s[48]),O=c(O,T,z,I,y,10,s[49]),I=c(I,O,T,z,S,15,s[50]),z=c(z,I,O,T,g,21,s[51]),T=c(T,z,I,O,k,6,s[52]),O=c(O,T,z,I,f,10,s[53]),I=c(I,O,T,z,E,15,s[54]),z=c(z,I,O,T,p,21,s[55]),T=c(T,z,I,O,b,6,s[56]),O=c(O,T,z,I,A,10,s[57]),I=c(I,O,T,z,_,15,s[58]),z=c(z,I,O,T,w,21,s[59]),T=c(T,z,I,O,m,6,s[60]),O=c(O,T,z,I,$,10,s[61]),I=c(I,O,T,z,d,15,s[62]),z=c(z,I,O,T,v,21,s[63]),u[0]=u[0]+T|0,u[1]=u[1]+z|0,u[2]=u[2]+I|0,u[3]=u[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var s=e.floor(i/4294967296);i=i,n[15+(64+o>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(64+o>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process();for(var r=(n=this._hash).words,a=0;a<4;a++){var l=r[a];r[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return n},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.MD5=i._createHelper(o),t.HmacMD5=i._createHmacHelper(o)}(Math),x=(H=M).lib,r=x.WordArray,a=x.Hasher,x=H.algo,l=[],x=x.SHA1=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],r=n[3],a=n[4],c=0;c<80;c++){c<16?l[c]=0|e[t+c]:(u=l[c-3]^l[c-8]^l[c-14]^l[c-16],l[c]=u<<1|u>>>31);var u=(i<<5|i>>>27)+a+l[c];u+=c<20?1518500249+(o&s|~o&r):c<40?1859775393+(o^s^r):c<60?(o&s|o&r|s&r)-1894007588:(o^s^r)-899497514,a=r,r=s,s=o<<30|o>>>2,o=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+r|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(64+i>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+i>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),H.SHA1=a._createHelper(x),H.HmacSHA1=a._createHmacHelper(x),function(e){var t=M,n=(o=t.lib).WordArray,i=o.Hasher,o=t.algo,s=[],r=[];!function(){function t(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)!function(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return;return 1}(n)||(i<8&&(s[i]=t(e.pow(n,.5))),r[i]=t(e.pow(n,1/3)),i++),n++}();var a=[];o=o.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],l=n[3],c=n[4],u=n[5],h=n[6],p=n[7],d=0;d<64;d++){d<16?a[d]=0|e[t+d]:(f=a[d-15],m=a[d-2],a[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+a[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+a[d-16]);var f=i&o^i&s^o&s,m=p+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&h)+r[d]+a[d];p=h,h=u,u=c,c=l+m|0,l=s,s=o,o=i,i=m+(((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+f)|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+l|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(64+o>>>9<<4)]=e.floor(i/4294967296),n[15+(64+o>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=i._createHelper(o),t.HmacSHA256=i._createHmacHelper(o)}(Math),c=(T=M).lib.WordArray,L=T.algo,u=L.SHA256,L=L.SHA224=u.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=u._doFinalize.call(this);return e.sigBytes-=4,e}}),T.SHA224=u._createHelper(L),T.HmacSHA224=u._createHmacHelper(L),function(){var e=M,t=e.lib.Hasher,n=(o=e.x64).Word,i=o.WordArray,o=e.algo;function s(){return n.create.apply(n,arguments)}var r=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],a=[];!function(){for(var e=0;e<80;e++)a[e]=s()}(),o=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n,i=(n=this._hash.words)[0],o=n[1],s=n[2],l=n[3],c=n[4],u=n[5],h=n[6],p=n[7],d=i.high,f=i.low,m=o.high,g=o.low,_=s.high,y=s.low,b=l.high,v=l.low,E=c.high,$=c.low,k=u.high,w=u.low,S=h.high,A=h.low,T=p.high,O=d,I=f,z=m,D=g,C=_,P=y,H=b,L=v,x=E,R=$,B=k,U=w,M=S,N=A,j=T,F=n=p.low,q=0;q<80;q++){var G,K,W=a[q];q<16?(K=W.high=0|e[t+2*q],G=W.low=0|e[t+2*q+1]):(ee=(Y=a[q-15]).high,te=Y.low,Q=(X=a[q-2]).high,Z=X.low,V=(J=a[q-7]).high,Y=J.low,J=(X=a[q-16]).high,K=(K=((ee>>>1|te<<31)^(ee>>>8|te<<24)^ee>>>7)+V+((G=(V=(te>>>1|ee<<31)^(te>>>8|ee<<24)^(te>>>7|ee<<25))+Y)>>>0<V>>>0?1:0))+((Q>>>19|Z<<13)^(Q<<3|Z>>>29)^Q>>>6)+((G+=te=(Z>>>19|Q<<13)^(Z<<3|Q>>>29)^(Z>>>6|Q<<26))>>>0<te>>>0?1:0),G+=ee=X.low,W.high=K=K+J+(G>>>0<ee>>>0?1:0),W.low=G);var Y=x&B^~x&M,V=R&U^~R&N,Z=O&z^O&C^z&C,Q=(I>>>28|O<<4)^(I<<30|O>>>2)^(I<<25|O>>>7),X=(te=r[q]).high,J=te.low,ee=F+((R>>>14|x<<18)^(R>>>18|x<<14)^(R<<23|x>>>9)),te=(W=j+((x>>>14|R<<18)^(x>>>18|R<<14)^(x<<23|R>>>9))+(ee>>>0<F>>>0?1:0),Q+(I&D^I&P^D&P));j=M,F=N,M=B,N=U,B=x,U=R,x=H+(W=(W=(W=W+Y+((ee+=V)>>>0<V>>>0?1:0))+X+((ee+=J)>>>0<J>>>0?1:0))+K+((ee+=G)>>>0<G>>>0?1:0))+((R=L+ee|0)>>>0<L>>>0?1:0)|0,H=C,L=P,C=z,P=D,z=O,D=I,O=W+(((O>>>28|I<<4)^(O<<30|I>>>2)^(O<<25|I>>>7))+Z+(te>>>0<Q>>>0?1:0))+((I=ee+te|0)>>>0<ee>>>0?1:0)|0}f=i.low=f+I,i.high=d+O+(f>>>0<I>>>0?1:0),g=o.low=g+D,o.high=m+z+(g>>>0<D>>>0?1:0),y=s.low=y+P,s.high=_+C+(y>>>0<P>>>0?1:0),v=l.low=v+L,l.high=b+H+(v>>>0<L>>>0?1:0),$=c.low=$+R,c.high=E+x+($>>>0<R>>>0?1:0),w=u.low=w+U,u.high=k+B+(w>>>0<U>>>0?1:0),A=h.low=A+N,h.high=S+M+(A>>>0<N>>>0?1:0),n=p.low=n+F,p.high=T+j+(n>>>0<F>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(128+i>>>10<<5)]=Math.floor(n/4294967296),t[31+(128+i>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),e.SHA512=t._createHelper(o),e.HmacSHA512=t._createHmacHelper(o)}(),x=(H=M).x64,h=x.Word,p=x.WordArray,x=H.algo,d=x.SHA512,x=x.SHA384=d.extend({_doReset:function(){this._hash=new p.init([new h.init(3418070365,3238371032),new h.init(1654270250,914150663),new h.init(2438529370,812702999),new h.init(355462360,4144912697),new h.init(1731405415,4290775857),new h.init(2394180231,1750603025),new h.init(3675008525,1694076839),new h.init(1203062813,3204075428)])},_doFinalize:function(){var e=d._doFinalize.call(this);return e.sigBytes-=16,e}}),H.SHA384=d._createHelper(x),H.HmacSHA384=d._createHmacHelper(x),function(e){var t=M,n=(s=t.lib).WordArray,i=s.Hasher,o=t.x64.Word,s=t.algo,r=[],a=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){r[e+5*t]=(n+1)*(n+2)/2%64;var i=(2*e+3*t)%5;e=t%5,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)a[e+5*t]=t+(2*e+3*t)%5*5;for(var s=1,c=0;c<24;c++){for(var u,h=0,p=0,d=0;d<7;d++)1&s&&((u=(1<<d)-1)<32?p^=1<<u:h^=1<<u-32),128&s?s=s<<1^113:s<<=1;l[c]=o.create(h,p)}}();var c=[];!function(){for(var e=0;e<25;e++)c[e]=o.create()}(),s=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,i=this.blockSize/2,o=0;o<i;o++){var s=e[t+2*o],u=e[t+2*o+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(A=n[o]).high^=u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),A.low^=s}for(var h=0;h<24;h++){for(var p=0;p<5;p++){for(var d=0,f=0,m=0;m<5;m++)d^=(A=n[p+5*m]).high,f^=A.low;var g=c[p];g.high=d,g.low=f}for(p=0;p<5;p++){var _=c[(p+4)%5],y=(b=c[(p+1)%5]).high,b=b.low;for(d=_.high^(y<<1|b>>>31),f=_.low^(b<<1|y>>>31),m=0;m<5;m++)(A=n[p+5*m]).high^=d,A.low^=f}for(var v=1;v<25;v++){var E=(A=n[v]).high,$=A.low,k=r[v];f=k<32?(d=E<<k|$>>>32-k,$<<k|E>>>32-k):(d=$<<k-32|E>>>64-k,E<<k-32|$>>>64-k),(k=c[a[v]]).high=d,k.low=f}var w=c[0],S=n[0];for(w.high=S.high,w.low=S.low,p=0;p<5;p++)for(m=0;m<5;m++){var A=n[v=p+5*m],T=c[v],O=c[(p+1)%5+5*m],I=c[(p+2)%5+5*m];A.high=T.high^~O.high&I.high,A.low=T.low^~O.low&I.low}A=n[0],S=l[h],A.high^=S.high,A.low^=S.low}},_doFinalize:function(){var t=this._data,i=t.words,o=(this._nDataBytes,8*t.sigBytes),s=32*this.blockSize;i[o>>>5]|=1<<24-o%32,i[(e.ceil((1+o)/s)*s>>>5)-1]|=128,t.sigBytes=4*i.length,this._process();for(var r=this._state,a=(i=this.cfg.outputLength/8)/8,l=[],c=0;c<a;c++){var u=(h=r[c]).high,h=h.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l.push(h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)),l.push(u)}return new n.init(l,i)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}}),t.SHA3=i._createHelper(s),t.HmacSHA3=i._createHmacHelper(s)}(Math),L=(T=M).lib,f=L.WordArray,m=L.Hasher,L=T.algo,g=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=f.create([0,1518500249,1859775393,2400959708,2840853838]),E=f.create([1352829926,1548603684,1836072691,2053994217,0]),L=L.RIPEMD160=m.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,o=e[i];e[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var s,r,a,l,c,u,h=this._hash.words,p=v.words,d=E.words,f=g.words,m=_.words,$=y.words,k=b.words,w=s=h[0],S=r=h[1],A=a=h[2],T=l=h[3],O=c=h[4];for(n=0;n<80;n+=1)u=s+e[t+f[n]]|0,u+=n<16?(r^a^l)+p[0]:n<32?N(r,a,l)+p[1]:n<48?((r|~a)^l)+p[2]:n<64?j(r,a,l)+p[3]:(r^(a|~l))+p[4],u=(u=F(u|=0,$[n]))+c|0,s=c,c=l,l=F(a,10),a=r,r=u,u=w+e[t+m[n]]|0,u+=n<16?(S^(A|~T))+d[0]:n<32?j(S,A,T)+d[1]:n<48?((S|~A)^T)+d[2]:n<64?N(S,A,T)+d[3]:(S^A^T)+d[4],u=(u=F(u|=0,k[n]))+O|0,w=O,O=T,T=F(A,10),A=S,S=u;u=h[1]+a+T|0,h[1]=h[2]+l+O|0,h[2]=h[3]+c+w|0,h[3]=h[4]+s+S|0,h[4]=h[0]+r+A|0,h[0]=u},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(64+i>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=(t=this._hash).words,s=0;s<5;s++){var r=o[s];o[s]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}return t},clone:function(){var e=m.clone.call(this);return e._hash=this._hash.clone(),e}}),T.RIPEMD160=m._createHelper(L),T.HmacRIPEMD160=m._createHmacHelper(L),x=(H=M).lib.Base,$=H.enc.Utf8,H.algo.HMAC=x.extend({init:function(e,t){e=this._hasher=new e.init,\"string\"==typeof t&&(t=$.parse(t));var n=e.blockSize,i=4*n;(t=t.sigBytes>i?e.finalize(t):t).clamp(),e=this._oKey=t.clone(),t=this._iKey=t.clone();for(var o=e.words,s=t.words,r=0;r<n;r++)o[r]^=1549556828,s[r]^=909522486;e.sigBytes=t.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),H=(L=(T=M).lib).Base,k=L.WordArray,L=(x=T.algo).SHA1,w=x.HMAC,S=x.PBKDF2=H.extend({cfg:H.extend({keySize:4,hasher:L,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=w.create(n.hasher,e),o=k.create(),s=k.create([1]),r=o.words,a=s.words,l=n.keySize,c=n.iterations;r.length<l;){var u=i.update(t).finalize(s);i.reset();for(var h=u.words,p=h.length,d=u,f=1;f<c;f++){d=i.finalize(d),i.reset();for(var m=d.words,g=0;g<p;g++)h[g]^=m[g]}o.concat(u),a[0]++}return o.sigBytes=4*l,o}}),T.PBKDF2=function(e,t,n){return S.create(n).compute(e,t)},L=(H=(x=M).lib).Base,A=H.WordArray,H=(T=x.algo).MD5,O=T.EvpKDF=L.extend({cfg:L.extend({keySize:4,hasher:H,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,o=i.hasher.create(),s=A.create(),r=s.words,a=i.keySize,l=i.iterations;r.length<a;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var c=1;c<l;c++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*a,s}}),x.EvpKDF=function(e,t,n){return O.create(n).compute(e,t)},M.lib.Cipher||function(){var e=(d=M).lib,t=e.Base,n=e.WordArray,i=e.BufferedBlockAlgorithm,o=((c=d.enc).Utf8,c.Base64),s=d.algo.EvpKDF,r=e.Cipher=i.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return a(n).encrypt(e,t,n,i)},decrypt:function(t,n,i){return a(n).decrypt(e,t,n,i)}}}});function a(e){return\"string\"==typeof e?f:p}e.StreamCipher=r.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=d.mode={},c=e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}});function u(e,t,n){var i,o=this._iv;o?(i=o,this._iv=void 0):i=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=i[s]}c=l.CBC=((l=c.extend()).Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;u.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),u.call(this,e,t,i),this._prevBlock=o}}),l),l=(d.pad={}).Pkcs7={pad:function(e,t){for(var i=(t*=4)-e.sigBytes%t,o=i<<24|i<<16|i<<8|i,s=[],r=0;r<i;r+=4)s.push(o);t=n.create(s,i),e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};var h=(e.BlockCipher=r.extend({cfg:r.cfg.extend({mode:c,padding:l}),reset:function(){var e;r.reset.call(this);var t=(n=this.cfg).iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,t&&t.words):(this._mode=e.call(n,this,t&&t.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),p=(l=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(t=(e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t,i=o.parse(e);return 1398893684==(e=i.words)[0]&&1701076831==e[1]&&(t=n.create(e.slice(2,4)),e.splice(0,4),i.sigBytes-=16),h.create({ciphertext:i,salt:t})}},e.SerializableCipher=t.extend({cfg:t.extend({format:l}),encrypt:function(e,t,n,i){i=this.cfg.extend(i),t=(o=e.createEncryptor(n,i)).finalize(t);var o=o.cfg;return h.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return\"string\"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,i,o){return o=o||n.random(8),e=s.create({keySize:t+i}).compute(e,o),i=n.create(e.words.slice(t),4*i),e.sigBytes=4*t,h.create({key:e,iv:i,salt:o})}},f=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(i=p.encrypt.call(this,e,t,n.key,i)).mixIn(n),i},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),M.mode.CFB=((L=M.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;q.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),L.Decryptor=L.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);q.call(this,e,t,i,n),this._prevBlock=o}}),L),M.mode.CTR=(x=(H=M.lib.BlockCipherMode.extend()).Encryptor=H.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0);var r=s.slice(0);n.encryptBlock(r,0),s[i-1]=s[i-1]+1|0;for(var a=0;a<i;a++)e[t+a]^=r[a]}}),H.Decryptor=x,H),M.mode.CTRGladman=(x=(L=M.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),0===((o=s)[0]=G(o[0]))&&(o[1]=G(o[1]));var r=s.slice(0);n.encryptBlock(r,0);for(var a=0;a<i;a++)e[t+a]^=r[a]}}),L.Decryptor=x,L),M.mode.OFB=(x=(H=M.lib.BlockCipherMode.extend()).Encryptor=H.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._keystream;o&&(s=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(s,0);for(var r=0;r<i;r++)e[t+r]^=s[r]}}),H.Decryptor=x,H),M.mode.ECB=((L=M.lib.BlockCipherMode.extend()).Encryptor=L.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),L.Decryptor=L.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),L),M.pad.AnsiX923={pad:function(e,t){var n=(n=e.sigBytes)+(t=(t*=4)-n%t)-1;e.clamp(),e.words[n>>>2]|=t<<24-n%4*8,e.sigBytes+=t},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},M.pad.Iso10126={pad:function(e,t){t*=4,t-=e.sigBytes%t,e.concat(M.lib.WordArray.random(t-1)).concat(M.lib.WordArray.create([t<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},M.pad.Iso97971={pad:function(e,t){e.concat(M.lib.WordArray.create([2147483648],1)),M.pad.ZeroPadding.pad(e,t)},unpad:function(e){M.pad.ZeroPadding.unpad(e),e.sigBytes--}},M.pad.ZeroPadding={pad:function(e,t){t*=4,e.clamp(),e.sigBytes+=t-(e.sigBytes%t||t)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;0<=n;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},M.pad.NoPadding={pad:function(){},unpad:function(){}},I=(x=M).lib.CipherParams,z=x.enc.Hex,x.format.Hex={stringify:function(e){return e.ciphertext.toString(z)},parse:function(e){return e=z.parse(e),I.create({ciphertext:e})}},function(){var e=M,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],s=[],r=[],a=[],l=[],c=[],u=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,d=0;for(t=0;t<256;t++){var f=d^d<<1^d<<2^d<<3^d<<4;i[n]=f=f>>>8^255&f^99;var m=e[o[f]=n],g=e[m],_=e[g],y=257*e[f]^16843008*f;s[n]=y<<24|y>>>8,r[n]=y<<16|y>>>16,a[n]=y<<8|y>>>24,l[n]=y,c[f]=(y=16843009*_^65537*g^257*m^16843008*n)<<24|y>>>8,u[f]=y<<16|y>>>16,h[f]=y<<8|y>>>24,p[f]=y,n?(n=m^e[e[e[_^m]]],d^=e[e[d]]):n=d=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,o=4*(1+(this._nRounds=6+n)),s=this._keySchedule=[],r=0;r<o;r++)r<n?s[r]=t[r]:(f=s[r-1],r%n?6<n&&r%n==4&&(f=i[f>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f]):(f=i[(f=f<<8|f>>>24)>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f],f^=d[r/n|0]<<24),s[r]=s[r-n]^f);for(var a=this._invKeySchedule=[],l=0;l<o;l++){var f;r=o-l,f=l%4?s[r]:s[r-4],a[l]=l<4||r<=4?f:c[i[f>>>24]]^u[i[f>>>16&255]]^h[i[f>>>8&255]]^p[i[255&f]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,r,a,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,u,h,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,o,s,r,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],p=e[t+3]^n[3],d=4,f=1;f<l;f++){var m=i[c>>>24]^o[u>>>16&255]^s[h>>>8&255]^r[255&p]^n[d++],g=i[u>>>24]^o[h>>>16&255]^s[p>>>8&255]^r[255&c]^n[d++],_=i[h>>>24]^o[p>>>16&255]^s[c>>>8&255]^r[255&u]^n[d++],y=i[p>>>24]^o[c>>>16&255]^s[u>>>8&255]^r[255&h]^n[d++];c=m,u=g,h=_,p=y}m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&p])^n[d++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[p>>>8&255]<<8|a[255&c])^n[d++],_=(a[h>>>24]<<24|a[p>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[d++],y=(a[p>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=_,e[t+3]=y},keySize:8}),e.AES=t._createHelper(n)}(),function(){var e=M,t=(i=e.lib).WordArray,n=i.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],a=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=i.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var i=o[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(var a=this._subKeys=[],l=0;l<16;l++){var c=a[l]=[],u=r[l];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=a[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],u.call(this,4,252645135),u.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),u.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=n[i],s=this._lBlock,r=this._rBlock,c=0,p=0;p<8;p++)c|=a[p][((r^o[p])&l[p])>>>0];this._lBlock=r,this._rBlock=s^c}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,u.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(e,t){t=(this._lBlock>>>e^this._rBlock)&t,this._rBlock^=t,this._lBlock^=t<<e}function h(e,t){t=(this._rBlock>>>e^this._lBlock)&t,this._lBlock^=t,this._rBlock^=t<<e}e.DES=n._createHelper(c),i=i.TripleDES=n.extend({_doReset:function(){if(2!==(i=this._key.words).length&&4!==i.length&&i.length<6)throw new Error(\"Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.\");var e=i.slice(0,2),n=i.length<4?i.slice(0,2):i.slice(2,4),i=i.length<6?i.slice(0,2):i.slice(4,6);this._des1=c.createEncryptor(t.create(e)),this._des2=c.createEncryptor(t.create(n)),this._des3=c.createEncryptor(t.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),e.TripleDES=n._createHelper(i)}(),function(){var e=M,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,i=this._S=[],o=0;o<256;o++)i[o]=o;o=0;for(var s=0;o<256;o++){var r=t[(r=o%n)>>>2]>>>24-r%4*8&255;s=(s+i[o]+r)%256,r=i[o],i[o]=i[s],i[s]=r}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,i=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[n],e[n]=s,i|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,i}e.RC4=t._createHelper(i),n=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;0<e;e--)o.call(this)}}),e.RC4Drop=t._createHelper(n)}(),L=(H=M).lib.StreamCipher,x=H.algo,D=[],C=[],P=[],x=x.Rabbit=L.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(n=this._b=0;n<4;n++)K.call(this);for(n=0;n<8;n++)o[n]^=i[n+4&7];if(t){var s,r=(t=16711935&((r=(s=t.words)[0])<<8|r>>>24)|4278255360&(r<<24|r>>>8))>>>16|4294901760&(s=16711935&((a=s[1])<<8|a>>>24)|4278255360&(a<<24|a>>>8)),a=s<<16|65535&t;for(o[0]^=t,o[1]^=r,o[2]^=s,o[3]^=a,o[4]^=t,o[5]^=r,o[6]^=s,o[7]^=a,n=0;n<4;n++)K.call(this)}},_doProcessBlock:function(e,t){var n=this._X;K.call(this),D[0]=n[0]^n[5]>>>16^n[3]<<16,D[1]=n[2]^n[7]>>>16^n[5]<<16,D[2]=n[4]^n[1]>>>16^n[7]<<16,D[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)D[i]=16711935&(D[i]<<8|D[i]>>>24)|4278255360&(D[i]<<24|D[i]>>>8),e[t+i]^=D[i]},blockSize:4,ivSize:2}),H.Rabbit=L._createHelper(x),L=(H=M).lib.StreamCipher,x=H.algo,R=[],B=[],U=[],x=x.RabbitLegacy=L.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]],o=this._b=0;o<4;o++)W.call(this);for(o=0;o<8;o++)i[o]^=n[o+4&7];if(t){var s,r=(t=16711935&((r=(s=t.words)[0])<<8|r>>>24)|4278255360&(r<<24|r>>>8))>>>16|4294901760&(s=16711935&((e=s[1])<<8|e>>>24)|4278255360&(e<<24|e>>>8));for(e=s<<16|65535&t,i[0]^=t,i[1]^=r,i[2]^=s,i[3]^=e,i[4]^=t,i[5]^=r,i[6]^=s,i[7]^=e,o=0;o<4;o++)W.call(this)}},_doProcessBlock:function(e,t){var n=this._X;W.call(this),R[0]=n[0]^n[5]>>>16^n[3]<<16,R[1]=n[2]^n[7]>>>16^n[5]<<16,R[2]=n[4]^n[1]>>>16^n[7]<<16,R[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)R[i]=16711935&(R[i]<<8|R[i]>>>24)|4278255360&(R[i]<<24|R[i]>>>8),e[t+i]^=R[i]},blockSize:4,ivSize:2}),H.RabbitLegacy=L._createHelper(x),M},\"object\"==typeof n?t.exports=n=o():\"function\"==typeof define&&define.amd?define([],o):i.CryptoJS=o()})),i.register(\"cWFKr\",(function(e,t){const n={document:0,photos:1,files:2,camera:3,scanner:4,clipboard:5};e.exports={sources:n,selectImages:async function(e){try{switch(e){case n.document:return await async function(){return new Promise((e=>{const t=i(\"74yMO\"),n=i(\"8ZsIi\");t.push(n.sourceFilePath,e)}))}();case n.photos:return await async function(){const e=await $photo.pick({multi:!0,format:\"data\"});return e.status?{images:e.results.map((e=>{const t=e.data;return t.fileName=e.filename,t}))}:{images:[]}}();case n.files:return await async function(){return{images:await $drive.open({multi:!0,types:[\"public.image\"]})||[]}}();case n.camera:return await async function(){const e=await $photo.take();return{images:e.status?[e.image.jpg(1)]:[]}}();case n.scanner:return await async function(){const e=await $photo.scan();return e.status?{images:e.results.map((e=>e.jpg(1)))}:{images:[]}}();case n.clipboard:return function(){const e=$clipboard.image;if(!e){return i(\"lp7dv\").error(),[]}if(i(\"8ZsIi\").onMac){const t=e.image;return t?{images:[t.jpg(1)]}:[]}return{images:[e]}}()}}catch(e){return console.error(e),[]}}}})),i.register(\"74yMO\",(function(e,t){var n=i(\"3aqxa\"),o=i(\"8ZsIi\"),s=i(\"ftFcx\"),r=i(\"kPrPt\"),a=i(\"15llP\"),l=i(\"lY7sD\"),c=i(\"f30YM\"),u=i(\"lp7dv\");const h={folder:null,data:[],selectedIndices:[]},p=()=>$(\"local-images\"),d=()=>$(\"mover-toolbar\"),f=()=>$(\"local-upload\"),m=()=>$(\"local-empty\");function g(e){return{pullDown:!0,asPrimary:!0,items:(()=>{const t=[{title:l.upload_and_replace,symbol:a.upload,handler:t=>w(!0,e)},{title:l.only_upload,symbol:a.upload,handler:t=>w(!1,e)}];return o.onMac?t.reverse():t})()}}function _(){const e=p();e.data=h.data.map(((e,t)=>{const n=h.selectedIndices.includes(t);return{image:{data:b(e)},cycle:{hidden:!n},checkmark:{hidden:!n},label:{accessibilityLabel:e.path,accessibilityHint:n?l.selected:l.double_tap_to_select,styledText:{text:e.path,markdown:!1,styles:[{range:$range(0,e.path.length),underlineStyle:1,underlineColor:r.lightGray}]}}}})),e.hidden=0===h.data.length,m().hidden=!e.hidden,y()}function y(){const e=f();h.selectedIndices.length>0?(e.enabled=!0,e.title=`${l.upload_image} (${h.selectedIndices.length})`,e.titleColor=r.tint):(e.enabled=!1,e.title=l.upload_image,e.titleColor=r.gray)}function b(e){const t=$file.read(v(e));return t.fileName=o.lastPath(e.path),t}function v(e){return`${h.folder}/${decodeURI(e.path)}`}function E(e=!0){h.selectedIndices=[];for(let e=0;e<h.data.length;++e)h.selectedIndices.push(e);_(),e&&u.light()}function k(e=!0){h.selectedIndices=[],_(),e&&u.light()}function w(e,t){$ui.pop(),$delay(.4,(()=>{const n=h.selectedIndices.map((e=>h.data[e]));t({images:n.map((e=>b(e))),context:{replacePaths:e,localItems:n.map((e=>({...e,fullPath:v(e)})))}})}))}e.exports={push:function(e,t){$ui.push({props:{title:o.lastPath(e),navButtons:[{title:l.bulk_edit,symbol:a.bulk_edit,menu:{pullDown:!0,asPrimary:!0,items:[{title:l.select_all,symbol:a.selected,handler:E},{title:l.deselect_all,symbol:a.unselected,handler:k}]}}]},views:[{type:\"list\",props:{id:\"local-images\",rowHeight:88,contentInset:$insets(0,0,c.toolbarHeight,0),indicatorInsets:$insets(0,0,c.toolbarHeight,0),template:[{type:\"image\",props:{id:\"image\",bgcolor:r.lightBackground,contentMode:$contentMode.scaleAspectFit},layout:(e,t)=>{e.left.top.bottom.inset(5),e.width.equalTo(t.height)}},{type:\"view\",props:{id:\"cycle\",hidden:!0,bgcolor:r.white,cornerRadius:9},layout:(e,t)=>{e.centerY.equalTo(t.super).offset(1),e.right.inset(18),e.size.equalTo($size(18,18))}},{type:\"image\",props:{id:\"checkmark\",hidden:!0,symbol:a.selected,tintColor:r.blue,contentMode:$contentMode.scaleAspectFit},layout:(e,t)=>{e.centerY.equalTo(t.super),e.right.inset(15),e.size.equalTo($size(25,25))}},{type:\"label\",props:{id:\"label\",isAccessibilityElement:!0,align:$align.left,lines:0},layout:e=>{e.left.equalTo($(\"image\").right).offset(15),e.right.equalTo($(\"checkmark\").left).offset(-12),e.top.bottom.inset(8)}}]},layout:$layout.fill,events:{didSelect:(e,t)=>function(e){const t=h.selectedIndices,n=t.indexOf(e.row);-1===n?t.push(e.row):t.splice(n,1);const i=p().cell(e),o=i.get(\"checkmark\");o.hidden=!o.hidden;i.get(\"cycle\").hidden=o.hidden,u.light(),y()}(t)}},...n.makeToolbar(\"mover-toolbar\"),{type:\"button\",props:{id:\"local-upload\",bgcolor:r.clear,menu:g(t)},layout:(e,t)=>{e.top.bottom.equalTo(d()),o.onMac?e.centerX.equalTo(t.super):e.left.right.equalTo(t.super)}},{type:\"label\",props:{id:\"local-empty\",text:l.no_local_images,textColor:r.lightGray,align:$align.center},layout:(e,t)=>{e.centerX.equalTo(t.super),e.top.equalTo(0),e.bottom.equalTo(d().top)}}]});const i=o.onTaio?$editor.text:$file.read(e).string;h.folder=e.substring(0,e.lastIndexOf(\"/\"));const f=s.exec(i,\"!\\\\[.*\\\\]\\\\((.+\\\\.(png|jpg|jpeg|gif))\\\\)\").filter((e=>{const t=e.path;return!t.startsWith(\"http://\")&&!t.startsWith(\"https://\")&&$file.exists(v(e))}));h.data=f,E(!1)}}})),i.register(\"3aqxa\",(function(e,t){var n=i(\"kPrPt\"),o=i(\"15llP\"),s=i(\"lY7sD\"),r=i(\"f30YM\"),a=i(\"bmV6j\"),l=i(\"8ZsIi\"),c=i(\"bvlBL\"),u=i(\"1izSo\").readableDateFrom;function h(e){if(l.onMac)return[];const t=(e,t)=>\"function\"==typeof $accessibilityAction?$accessibilityAction(e,t):$objc(\"UIAccessibilityCustomAction\").$alloc().$initWithName_actionHandler(e,$block(\"BOOL, UIAccessibilityCustomAction *\",(e=>{t&&t()}))).jsValue();return[t(s.delete,e.delete),t(s.open_in_browser,e.openInBrowser),t(s.copy_bbcode,e.copyBBCode),t(s.copy_markdown,e.copyMarkdown),t(s.copy_html,e.copyHTML),t(s.copy_url,e.copyURL),...l.onTaio?[t(s.insert_into_document,e.insertIntoDocument)]:[]]}e.exports={makeToolbar:function(e){return[{type:\"view\",props:{id:e},layout:(e,t)=>{e.left.right.equalTo(t.super),e.height.equalTo(r.toolbarHeight),e.bottom.equalTo(t.super.safeAreaBottom).inset(l.onMac?2:0)}},{type:\"blur\",props:{style:10},layout:(t,n)=>{t.left.right.bottom.equalTo(n.super),t.top.equalTo($(e))}},{type:\"view\",props:{bgcolor:n.toolbarDivider},layout:(t,n)=>{t.left.right.equalTo(n.super),t.top.equalTo($(e)),t.height.equalTo(r.hairline)}}]},makePlaceholder:function(e){return{...e,image:{alpha:.3,image:a.imageOf(e)},cycle:{hidden:!0},checkmark:{hidden:!0},spinner:{loading:!0},failed:{hidden:!0}}},makeMainCells:function(e,t){return e.data.map(((n,i)=>{const r=c.isUploading(n),p=e.selectedIndices.includes(i),d=!r&&!n.remotePath;return{image:{accessibilityLabel:r?s.uploading:d?s.upload_failed:[l.lastPath(n.remotePath),u(n.creationDate)].join(\", \"),accessibilityHint:p?s.selected:e.bulkEditing?s.double_tap_to_select:\"\",accessibilityCustomActions:h(t($indexPath(0,i))),alpha:r?.3:1,image:a.imageOf(n)},cycle:{hidden:!p||!e.bulkEditing},checkmark:{hidden:!e.bulkEditing,symbol:p?o.selected:o.unselected},spinner:{loading:r},failed:{hidden:!d}}}))},makeAccessibilityActions:h}})),i.register(\"kPrPt\",(function(e,t){var n=i(\"8ZsIi\");e.exports={clear:$color(\"clear\"),tint:n.onTaio?$color(\"tint\"):$color(\"black\",\"white\"),white:$color(\"white\"),errorBackground:$color(\"#ffebeb\",\"#4e3431\"),errorStroke:$color(\"#c91d1d\",\"#ff8066\"),blue:$color(\"#007aff\",\"#0084ff\"),gray:$color(\"gray\"),lightGray:$color(\"lightGray\"),lightBackground:$color($rgba(0,0,0,.05),$rgba(255,255,255,.1)),toolbarDivider:$color(\"#c8c8c8\",\"#262626\")}})),i.register(\"15llP\",(function(e,t){e.exports={icloud:\"icloud\",upload:\"icloud.and.arrow.up\",download:\"icloud.and.arrow.down\",drive:\"externaldrive\",ellipsis:\"ellipsis\",lightbulb:\"lightbulb\",drive_plus:\"externaldrive.badge.plus\",photos:\"photo.on.rectangle\",camera:\"camera\",folder:\"folder\",scanner:\"doc.text.viewfinder\",copy:\"square.on.square\",trash:\"trash\",plaintext:\"doc.plaintext\",bulk_edit:\"checkmark.square\",unselected:\"circle\",selected:\"checkmark.circle.fill\",edit:\"pencil\",text_insert:\"text.insert\",link:\"link\",markdown:\"m.square\",html:\"chevron.left.slash.chevron.right\",bbcode:\"b.square\",safari:\"safari\",more:\"ellipsis.circle.fill\",share:\"square.and.arrow.up\",plus_fill:\"plus.circle.fill\",switch:\"switch.2\"}})),i.register(\"f30YM\",(function(e,t){e.exports={hairline:1/$device.info.screen.scale,toolbarHeight:44,spacingOfCells:5,footerHeight:32,footerFontSize:13}})),i.register(\"bmV6j\",(function(e,t){const n=i(\"1jkc1\").thumbnails;function o(e){return`${n}/${e.localPath}`}e.exports={pathOf:o,imageOf:function(e){const t=o(e),n=$file.read(t);return n?n.image:null},save:function(e){$file.isDirectory(n)||$file.mkdir(n);const t=`${$text.uuid}.jpg`,i=`${n}/${t}`;return $file.write({data:e,path:i}),{localPath:t}},remove:function(e){$file.delete(o(e))}}})),i.register(\"1jkc1\",(function(e,t){const n=$file.rootPath+\"/ImageUploader\",i=n+\"/Backup\",o=n+\"/Cache\",s=o+\"/Thumbnails\";e.exports={root:n,backup:i,cache:o,thumbnails:s}})),i.register(\"bvlBL\",(function(e,t){var n=i(\"kF9tO\"),o=i(\"9A6Ij\"),s=i(\"8ZsIi\"),r=i(\"iKiZL\");const a={queued:new Set};e.exports={uploadFile:async function(e,t,l){try{const c=t.localPath,u=l.identifier,h=i(\"7OQxW\")[u];for(const e of[\"name\",\"config\",\"request\",\"parse\"])if(void 0===h[e])return console.error(`Uploader \"${u}\" is not correctly implemented, missing \"${e}\".`),null;if(!e)return console.log(\"Cancelled.\"),null;const p=r.compressImages(),d=p?\"image/jpeg\":s.mimeType(e),f=e.fileName;if(p){const t=(()=>{const t=e.image,n=r.imageSize();return n>0&&t.size.width>n&&t.size.height>n?t.resized($size(n,n)):t})(),n=r.compressQuality();e=t.jpg(n)}else if(\"image/jpg\"===d||\"image/jpeg\"===d){const t=e.image;e=t.jpg(.8)}const m=s.lastPath(f).toLowerCase();e.fileName=p&&\"jpg\"!==m&&\"jpeg\"!==m?`${s.deleteExtension(f)}.jpeg`:f;const g={};Object.keys(l).forEach((t=>{const i=l[t];t===n.filePathKey?g[t]=s.fileName(e,i):g[t]=o.read(i)}));const _=g[n.filePathKey],y=h.request({data:e,size:e.info.size,type:d,path:_},g,s.injectable);a.queued.add(c);const{data:b,error:v}=await $http.request(y);if(a.queued.delete(c),v)return console.error(`HTTP error: ${v.localizedDescription}.`),{localPath:c,error:v.localizedDescription};const E=h.parse(b,_,g)||{};E.config=l.uuid,E.localPath=c,E.creationDate=+new Date;const $=e.image;return E.metadata={width:$.size.width*$.scale,height:$.size.height*$.scale,size:e.info.size},E.error?console.error(`API error: ${E.error}.`):console.log(E),E}catch(e){return console.log(e),null}},isUploading:function(e){return a.queued.has(e.localPath)}}})),i.register(\"kF9tO\",(function(e,t){var n=i(\"9A6Ij\"),o=i(\"8ZsIi\");const s=\"app.taio.image-uploader.configs\";function r(){return $cache.get(s)||[]}function a(e){$cache.set(s,e)}e.exports={nameKey:\"uploader.name\",filePathKey:\"uploader.filepath\",all:r,create:function(e){const t=r();t.unshift(e),a(t)},save:a,cleanUp:function(){const e=[];r().forEach((t=>{Object.keys(t).forEach((n=>{const i=t[n];o.isEncrypted(i)&&e.push(i)}))})),($keychain.keys(n.domain)||[]).forEach((t=>{e.includes(t)||n.remove(t)}))}}})),i.register(\"9A6Ij\",(function(e,t){const n=\"app.taio.image-uploader.keychain\";var o=i(\"8ZsIi\");function s(e,t){return $keychain.set(e,t,n),e}e.exports={domain:n,save:function(e){return s(`id:${$text.uuid}`,e)},update:s,read:function(e){return o.isEncrypted(e)?$keychain.get(e,n):e},remove:function(e){o.isEncrypted(e)&&$keychain.remove(e,n)}}})),i.register(\"iKiZL\",(function(e,t){var n=i(\"lY7sD\"),o=i(\"8ZsIi\"),s=i(\"duNOi\");const r=\"app.taio.thumb-columns\",a=\"app.taio.thumb-size\",l=\"app.taio.compress-images\",c=\"app.taio.compress-quality\",u=\"app.taio.image-size\";function h(){const e=$cache.get(r);return void 0===e?o.onMac?3:1:e}function p(){const e=$cache.get(a);return void 0===e?1:e}e.exports={open:async function(e){const t=$cache.get(r);(await $prefs.edit({title:n.settings,insetGrouped:!0,groups:[{items:[{title:n.thumbnail_columns,type:\"list\",items:[\"2\",\"3\",\"4\",\"5\",\"6\"],key:r,value:h()},{title:n.thumbnail_size,type:\"list\",items:[n.quality_high,n.quality_medium,n.quality_low],key:a,value:p()}]},{items:[{title:n.compress_images,type:\"boolean\",key:l,value:$cache.get(l)||!1},{title:n.compress_quality,type:\"list\",items:[n.quality_high,n.quality_medium,n.quality_low],key:c,value:$cache.get(c)||0},{title:n.image_size,type:\"list\",items:[n.size_raw,n.size_large,n.size_medium,n.size_small],key:u,value:$cache.get(u)||0}]},{items:[{title:n.about,type:\"script\",value:'$ui.push({\\n              props: {\\n                title: $l10n(\"ABOUT\")\\n              },\\n              views: [\\n                {\\n                  type: \"markdown\",\\n                  props: {\\n                    content: (() => {\\n                      const fileName = $l10n(\"README_FILE\");\\n                      if (typeof __IMAGE_UPLOADER_README__ === \"object\") {\\n                        return __IMAGE_UPLOADER_README__[fileName];\\n                      } else {\\n                        return $file.read(fileName).string;\\n                      }\\n                    })()\\n                  },\\n                  layout: $layout.fill\\n                }\\n              ]\\n            })'},{title:n.source_code,type:\"link\",value:\"https://github.com/cyanzhong/Image-Uploader\"}]},{items:[{title:n.current_version,type:\"info\",value:s.currentVersion()},{title:n.get_latest_version,type:\"script\",value:(o.onTaio?`$app.openURL(\"taio://actions?action=import&url=${encodeURIComponent(n.taio_update_url)}\");`:`$app.openURL(\"jsbox://import?url=${encodeURIComponent(\"https://github.com/cyanzhong/Image-Uploader/raw/main/dist/image-uploader.zip\")}&name=${encodeURIComponent($addin.current.name)}\");`)+\"\\n\\n$app.close();\"}]}]})).groups.forEach((e=>{e.items.forEach((e=>{e.key&&$cache.set(e.key,e.value)}))})),e&&t!==$cache.get(r)&&e()},thumbColumns:function(){return[2,3,4,5,6][h()]},thumbSize:function(){return[480,320,240][p()]},compressImages:function(){return $cache.get(l)||!1},compressQuality:function(){return[.8,.5,.3][$cache.get(c)||0]},imageSize:function(){return[0,1920,1680,960][$cache.get(u)||0]}}})),i.register(\"duNOi\",(function(e,t){var n=i(\"8ZsIi\"),o=i(\"lY7sD\");function s(){return\"undefined\"==typeof __IMAGE_UPLOADER_VERSION__?$file.read(\"version.conf\").string:__IMAGE_UPLOADER_VERSION__}e.exports={currentVersion:s,checkForUpdate:async function(){const{response:e,data:t}=await $http.get(\"https://github.com/cyanzhong/Image-Uploader/raw/main/version.conf\");if(200!==e.statusCode||\"string\"!=typeof t)return;if(t===s())return;const{index:i}=await $ui.alert({title:o.found_new_version,message:o.update_to_new_version,actions:[{title:o.update},{title:o.cancel,style:$alertActionType.cancel}]});if(0===i){if(n.onTaio){const e=encodeURIComponent(o.taio_update_url);$app.openURL(`taio://actions?action=import&url=${e}`)}else{const e=encodeURIComponent(\"https://github.com/cyanzhong/Image-Uploader/raw/main/dist/image-uploader.zip\");$app.openURL(`jsbox://import?url=${e}&name=${encodeURIComponent($addin.current.name)}`)}$app.close()}}}})),i.register(\"7OQxW\",(function(e,t){e.exports={s3:i(\"5UnAt\"),azure:i(\"brjBf\"),b2:i(\"flYln\"),r2:i(\"cDiDV\"),imgur:i(\"1kjln\"),github:i(\"fmA0C\"),gitlab:i(\"6CmYH\"),gitee:i(\"049Fh\"),smms:i(\"4voHh\"),oss:i(\"ep7dS\"),cos:i(\"cO7Cs\"),bos:i(\"hJmPK\"),obs:i(\"3tgmq\"),kodo:i(\"i2sun\"),uss:i(\"15SeB\"),qingstor:i(\"2lPHh\"),custom:i(\"5MUpJ\")}})),i.register(\"5UnAt\",(function(e,t){const n=\"aws.region\",i=\"aws.bucket\",o=\"access.key.id\",s=\"secret.access.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"us-east-1\",\"us-east-2\",\"us-west-1\",\"us-west-2\",\"af-south-1\",\"ap-east-1\",\"ap-south-1\",\"ap-southeast-1\",\"ap-southeast-2\",\"ap-southeast-3\",\"ap-northeast-1\",\"ap-northeast-2\",\"ap-northeast-3\",\"ca-central-1\",\"eu-central-1\",\"eu-south-1\",\"eu-north-1\",\"eu-west-1\",\"eu-west-2\",\"eu-west-3\",\"me-south-1\",\"sa-east-1\",\"cn-north-1\",\"cn-northwest-1\"],c={\"us-east-1\":{en:\"US East (N. Virginia)\",\"zh-Hans\":\"美国东部 (弗吉尼亚北部)\"},\"us-east-2\":{en:\"US East (Ohio)\",\"zh-Hans\":\"美国东部 (俄亥俄)\"},\"us-west-1\":{en:\"US West (N. California)\",\"zh-Hans\":\"美国西部 (加利福尼亚北部)\"},\"us-west-2\":{en:\"US West (Oregon)\",\"zh-Hans\":\"美国西部 (俄勒冈)\"},\"af-south-1\":{en:\"Africa (Cape Town)\",\"zh-Hans\":\"非洲 (开普敦)\"},\"ap-east-1\":{en:\"Asia Pacific (Hong Kong)\",\"zh-Hans\":\"亚太地区 (香港)\"},\"ap-south-1\":{en:\"Asia Pacific (Mumbai)\",\"zh-Hans\":\"亚太地区 (孟买)\"},\"ap-southeast-1\":{en:\"Asia Pacific (Singapore)\",\"zh-Hans\":\"亚太地区 (新加坡)\"},\"ap-southeast-2\":{en:\"Asia Pacific (Sydney)\",\"zh-Hans\":\"亚太地区 (悉尼)\"},\"ap-southeast-3\":{en:\"Asia Pacific (Jakarta)\",\"zh-Hans\":\"亚太地区 (雅加达)\"},\"ap-northeast-1\":{en:\"Asia Pacific (Tokyo)\",\"zh-Hans\":\"亚太地区 (东京)\"},\"ap-northeast-2\":{en:\"Asia Pacific (Seoul)\",\"zh-Hans\":\"亚太地区 (首尔)\"},\"ap-northeast-3\":{en:\"Asia Pacific (Osaka)\",\"zh-Hans\":\"亚太地区 (大阪)\"},\"ca-central-1\":{en:\"Canada (Central)\",\"zh-Hans\":\"加拿大 (中部)\"},\"eu-central-1\":{en:\"Europe (Frankfurt)\",\"zh-Hans\":\"欧洲 (法兰克福)\"},\"eu-south-1\":{en:\"Europe (Milan)\",\"zh-Hans\":\"欧洲 (米兰)\"},\"eu-north-1\":{en:\"Europe (Stockholm)\",\"zh-Hans\":\"欧洲 (斯德哥尔摩)\"},\"eu-west-1\":{en:\"Europe (Ireland)\",\"zh-Hans\":\"欧洲 (爱尔兰)\"},\"eu-west-2\":{en:\"Europe (London)\",\"zh-Hans\":\"欧洲 (伦敦)\"},\"eu-west-3\":{en:\"Europe (Paris)\",\"zh-Hans\":\"欧洲 (巴黎)\"},\"me-south-1\":{en:\"Middle East (Bahrain)\",\"zh-Hans\":\"中东 (巴林)\"},\"sa-east-1\":{en:\"South America (São Paulo)\",\"zh-Hans\":\"南美洲 (圣保罗)\"},\"cn-north-1\":{en:\"China (Beijing)\",\"zh-Hans\":\"中国 (北京)\"},\"cn-northwest-1\":{en:\"China (Ningxia)\",\"zh-Hans\":\"中国 (宁夏)\"}};function u(e,t,n){const{HmacSHA256:i}=n.crypto,o=\"PUT\",s=e.path,r=n.encode.sha256(e.data),a=\"AWS4-HMAC-SHA256\",l=`${(new Date).toISOString().substring(0,19).replaceAll(/[-:]/g,\"\")}Z`,c=l.substring(0,8),u=`host;${t.acl?\"x-amz-acl;\":\"\"}x-amz-content-sha256;x-amz-date`,h=\"aws4_request\",p=`${c}/${t.region}/s3/${h}`,d=[o,`/${s}`,\"\",`host:${t.host}`,...t.acl?[\"x-amz-acl:public-read\"]:[],`x-amz-content-sha256:${r}`,`x-amz-date:${l}`,\"\",u,r].join(\"\\n\"),f=[a,l,p,n.encode.sha256(d)].join(\"\\n\"),m=(()=>{const e=i(c,`AWS4${t.secretAccessKey}`),n=i(t.region,e),o=i(\"s3\",n);return i(h,o)})(),g=i(f,m).toString();return{method:o,url:`https://${t.host}/${s}`,header:{\"Content-Type\":e.type,Authorization:`${a} Credential=${t.accessKeyID}/${p},SignedHeaders=${u},Signature=${g}`,...t.acl?{\"x-amz-acl\":\"public-read\"}:{},\"x-amz-content-sha256\":r,\"x-amz-date\":l},body:e.data}}function h(e,t){const o=l[t[n]],s=t[i],c=t[r],u=t[a]||\"\";return`https://${c&&c.length>0?c:p(o,s)}/${e}${u}`}function p(e,t){return e.startsWith(\"cn-\")?`s3.${e}.amazonaws.com.cn/${t}`:`${t}.s3.${e}.amazonaws.com`}e.exports={name:\"Amazon S3\",supportsFilePath:!0,onlineDoc:\"https://docs.aws.amazon.com/general/latest/gr/aws-security-credentials.html\",config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key ID\",type:\"password\",key:o},{title:\"Secret Access Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const a=l[t[n]];return u(e,{region:a,host:p(a,t[i]),accessKeyID:t[o],secretAccessKey:t[s],acl:!0},r)},compatible:u,parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:h(t,n)}}}})),i.register(\"brjBf\",(function(e,t){const n=\"account.name\",i=\"container.name\",o=\"shared.key\",s=\"custom.domain\",r=\"url.suffix\";function a(e,t){const o=t[n],a=t[i];return`https://${(()=>{const e=t[s];return e&&e.length>0?e:`${o}.blob.core.windows.net`})()}/${a}/${e}${t[r]||\"\"}`}e.exports={name:\"Azure Blob\",supportsFilePath:!0,onlineDoc:{en:\"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage\",\"zh-Hans\":\"https://docs.microsoft.com/zh-cn/azure/storage/common/storage-account-keys-manage\"},config:function(e){return[{title:{en:\"Account Name\",\"zh-Hans\":\"账号名称\"},type:\"string\",key:n},{title:{en:\"Container Name\",\"zh-Hans\":\"容器名称\"},type:\"string\",key:i},{title:{en:\"Shared Key\",\"zh-Hans\":\"访问密钥\"},type:\"password\",key:o},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:s,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,s){const{enc:r,HmacSHA256:a}=s.crypto,l=\"PUT\",c=e.path,u=e.type,h=t[n],p=t[i],d=\"BlockBlob\",f=(new Date).toGMTString(),m=\"2020-12-06\",g=[l,\"\",\"\",`${e.size}`,\"\",u,\"\",\"\",\"\",\"\",\"\",\"\",\"x-ms-blob-type:BlockBlob\",`x-ms-date:${f}`,\"x-ms-version:2020-12-06\",`/${h}/${p}/${c}`].join(\"\\n\"),_=r.Utf8.parse(g),y=r.Base64.parse(t[o]);return{method:l,url:`https://${h}.blob.core.windows.net/${p}/${c}`,header:{Authorization:`SharedKey ${h}:${r.Base64.stringify(a(_,y))}`,\"Content-Type\":u,\"x-ms-blob-type\":d,\"x-ms-date\":f,\"x-ms-version\":m},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:a(t,n)}}}})),i.register(\"flYln\",(function(e,t){var n=i(\"5UnAt\");const o=\"b2.region\",s=\"b2.bucket\",r=\"b2.key.id\",a=\"b2.app.key\",l=\"custom.domain\",c=\"url.suffix\";function u(e,t){const n=t[o],i=t[s],r=t[l],a=t[c]||\"\";return`https://${r&&r.length>0?r:h(n,i)}/${e}${a}`}function h(e,t){return`${t}.s3.${e}.backblazeb2.com`}e.exports={name:\"Backblaze B2\",supportsFilePath:!0,onlineDoc:\"https://secure.backblaze.com/app_keys.htm\",config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"string\",key:o},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:s},{title:\"Key ID\",type:\"password\",key:r},{title:\"Application Key\",type:\"password\",key:a},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:l,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:c,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,i){const l=t[o];return n.compatible(e,{region:l,host:h(l,t[s]),accessKeyID:t[r],secretAccessKey:t[a],acl:!1},i)},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"cDiDV\",(function(e,t){const n=\"r2.access.key.id\",i=\"custom.domain\",o=\"url.suffix\";function s(e,t){const n=e.path;return{method:\"PUT\",url:`https://${t.host}/${n}`,header:{\"Content-Type\":e.type,\"X-Custom-Auth-Key\":t.AuthKey},body:e.data}}function r(e,t){return`https://${t[i]}/${e}${t[o]||\"\"}`}e.exports={name:\"Cloudflare R2\",supportsFilePath:!0,onlineDoc:\"https://developers.cloudflare.com/r2/\",config:function(e){return[{title:\"Custom Auth Key\",type:\"password\",key:n},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:i},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:o,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,o){return s(e,{host:t[i],AuthKey:t[n]})},compatible:s,parse:function(e,t,n){return e.includes(\"success\")?{remotePath:r(t,n)}:{error:e}}}})),i.register(\"1kjln\",(function(e,t){const n=\"client.identifier\";e.exports={name:\"Imgur\",onlineDoc:\"https://apidocs.imgur.com/#authorization-and-oauth\",config:function(e){return[{title:\"Client ID\",type:\"password\",key:n}]},request:function(e,t,i){return{method:\"POST\",url:\"https://api.imgur.com/3/image\",header:{Authorization:`Client-ID ${t[n]}`},files:[{data:e.data,name:\"image\"}]}},parse:function(e,t,n){return e.success?{remotePath:e.data.link}:{error:JSON.stringify(e)}}}})),i.register(\"fmA0C\",(function(e,t){const n=\"account.name\",i=\"repo.name\",o=\"api.token\",s=\"branch.name\";e.exports={name:\"GitHub\",supportsFilePath:!0,onlineDoc:\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\",config:function(e){return[{title:{en:\"Account Name\",\"zh-Hans\":\"账号名称\"},type:\"string\",key:n},{title:{en:\"Repo Name\",\"zh-Hans\":\"仓库名称\"},type:\"string\",key:i},{title:\"Token\",type:\"password\",key:o},{title:{en:\"Branch Name\",\"zh-Hans\":\"分支名称\"},type:\"string\",key:s,placeholder:\"main\"}]},request:function(e,t,r){const a=e.path;return{method:\"PUT\",url:`https://api.github.com/repos/${t[n]}/${t[i]}/contents/${a}`,header:{Authorization:`token ${t[o]}`},body:{branch:t[s]||\"main\",path:a,content:r.encode.base64(e.data),message:`Upload ${decodeURI(a)}`}}},parse:function(e,t,n){return e.message?{error:JSON.stringify(e)}:{remotePath:`${e.content.html_url}?raw=true`}}}})),i.register(\"6CmYH\",(function(e,t){const n=\"project.identifier\",i=\"api.token\",o=\"custom.domain\";e.exports={name:\"GitLab\",supportsFilePath:!0,onlineDoc:\"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html\",config:function(e){return[{title:{en:\"Project ID\",\"zh-Hans\":\"项目 ID\"},type:\"string\",key:n},{title:\"Token\",type:\"password\",key:i}]},request:function(e,t,o){return{method:\"POST\",url:`https://gitlab.com/api/v4/projects/${t[n]}/uploads`,header:{\"PRIVATE-TOKEN\":t[i]},files:[{data:e.data,name:\"file\",filename:e.path}]}},parse:function(e,t,n){if(e.full_path){return{remotePath:`https://${(()=>{const e=n[o];return e&&e.length>0?e:\"gitlab.com\"})()}${e.full_path}`}}return{error:JSON.stringify(e)}}}})),i.register(\"049Fh\",(function(e,t){const n=\"account.name\",i=\"repo.name\",o=\"api.token\",s=\"branch.name\";e.exports={name:\"Gitee\",supportsFilePath:!0,onlineDoc:\"https://gitee.com/profile/personal_access_tokens\",config:function(e){return[{title:{en:\"Account Name\",\"zh-Hans\":\"账号名称\"},type:\"string\",key:n},{title:{en:\"Repo Name\",\"zh-Hans\":\"仓库名称\"},type:\"string\",key:i},{title:\"Token\",type:\"password\",key:o},{title:{en:\"Branch Name\",\"zh-Hans\":\"分支名称\"},type:\"string\",key:s,placeholder:\"master\"}]},request:function(e,t,r){const a=e.path;return{method:\"POST\",url:`https://gitee.com/api/v5/repos/${t[n]}/${t[i]}/contents/${a}`,form:{access_token:t[o],branch:t[s]||\"master\",content:r.encode.base64(e.data),message:`Upload ${decodeURI(a)}`}}},parse:function(e,t,n){return e.content?{remotePath:encodeURI(e.content.download_url)}:{error:JSON.stringify(e)}}}})),i.register(\"4voHh\",(function(e,t){const n=\"secret.token\";e.exports={name:\"SM.MS\",onlineDoc:\"https://sm.ms/home/apitoken\",config:function(e){return[{title:\"Secret Token\",type:\"password\",key:n}]},request:function(e,t,i){return{method:\"POST\",url:\"https://sm.ms/api/v2/upload\",header:{Authorization:t[n]},files:[{data:e.data,name:\"smfile\"}]}},parse:function(e,t,n){return e.success?{remotePath:e.data.url}:{error:JSON.stringify(e)}}}})),i.register(\"ep7dS\",(function(e,t){const n=\"oss.region\",i=\"oss.bucket\",o=\"access.key\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"oss-cn-hangzhou\",\"oss-cn-shanghai\",\"oss-cn-qingdao\",\"oss-cn-beijing\",\"oss-cn-zhangjiakou\",\"oss-cn-huhehaote\",\"oss-cn-wulanchabu\",\"oss-cn-shenzhen\",\"oss-cn-heyuan\",\"oss-cn-guangzhou\",\"oss-cn-chengdu\",\"oss-cn-hongkong\",\"oss-us-west-1\",\"oss-us-east-1\",\"oss-ap-southeast-1\",\"oss-ap-southeast-2\",\"oss-ap-southeast-3\",\"oss-ap-southeast-5\",\"oss-ap-northeast-1\",\"oss-ap-south-1\",\"oss-eu-central-1\",\"oss-eu-west-1\",\"oss-me-east-1\",\"oss-ap-southeast-6\"],c={\"oss-cn-hangzhou\":{en:\"East China 1 (Hangzhou)\",\"zh-Hans\":\"华东 1 (杭州)\"},\"oss-cn-shanghai\":{en:\"East China 2 (Shanghai)\",\"zh-Hans\":\"华东 2 (上海)\"},\"oss-cn-qingdao\":{en:\"North China 1 (Qingdao)\",\"zh-Hans\":\"华北 1 (青岛)\"},\"oss-cn-beijing\":{en:\"North China 2 (Beijing)\",\"zh-Hans\":\"华北 2 (北京)\"},\"oss-cn-zhangjiakou\":{en:\"North China 3 (Zhangjiakou)\",\"zh-Hans\":\"华北 3 (张家口)\"},\"oss-cn-huhehaote\":{en:\"North China 5 (Hohhot)\",\"zh-Hans\":\"华北 5 (呼和浩特)\"},\"oss-cn-wulanchabu\":{en:\"North China 6 (Ulaanbaatar)\",\"zh-Hans\":\"华北 6 (乌兰察布)\"},\"oss-cn-shenzhen\":{en:\"South China 1 (Shenzhen)\",\"zh-Hans\":\"华南 1 (深圳)\"},\"oss-cn-heyuan\":{en:\"South China 2 (Heyuan)\",\"zh-Hans\":\"华南 2 (河源)\"},\"oss-cn-guangzhou\":{en:\"South China 3 (Guangzhou)\",\"zh-Hans\":\"华南 3 (广州)\"},\"oss-cn-chengdu\":{en:\"Southwest 1 (Chengdu)\",\"zh-Hans\":\"西南 1 (成都)\"},\"oss-cn-hongkong\":{en:\"China (Hong Kong)\",\"zh-Hans\":\"中国 (香港)\"},\"oss-us-west-1\":{en:\"US West (Silicon Valley)\",\"zh-Hans\":\"美国西部 (硅谷)\"},\"oss-us-east-1\":{en:\"US East (Virginia)\",\"zh-Hans\":\"美国东部 (弗吉尼亚)\"},\"oss-ap-southeast-1\":{en:\"Singapore\",\"zh-Hans\":\"新加坡\"},\"oss-ap-southeast-2\":{en:\"Australia (Sydney)\",\"zh-Hans\":\"澳大利亚 (悉尼)\"},\"oss-ap-southeast-3\":{en:\"Malaysia (Kuala Lumpur)\",\"zh-Hans\":\"马来西亚 (吉隆坡)\"},\"oss-ap-southeast-5\":{en:\"Indonesia (Jakarta)\",\"zh-Hans\":\"印度尼西亚 (雅加达)\"},\"oss-ap-northeast-1\":{en:\"Japan (Tokyo)\",\"zh-Hans\":\"日本 (东京)\"},\"oss-ap-south-1\":{en:\"India (Mumbai)\",\"zh-Hans\":\"印度 (孟买)\"},\"oss-eu-central-1\":{en:\"Germany (Frankfurt)\",\"zh-Hans\":\"德国 (法兰克福)\"},\"oss-eu-west-1\":{en:\"United Kingdom (London)\",\"zh-Hans\":\"英国 (伦敦)\"},\"oss-me-east-1\":{en:\"UAE (Dubai)\",\"zh-Hans\":\"阿联酋 (迪拜)\"},\"oss-ap-southeast-6\":{en:\"Philippines (Manila)\",\"zh-Hans\":\"菲律宾 (马尼拉)\"}};function u(e,t){return`https://${(()=>{const e=t[r];if(e&&e.length>0)return e;return`${t[i]}.${l[t[n]]}.aliyuncs.com`})()}/${e}${t[a]||\"\"}`}e.exports={name:{en:\"Aliyun OSS\",\"zh-Hans\":\"阿里云 OSS\"},supportsFilePath:!0,onlineDoc:{en:\"https://www.alibabacloud.com/help/en/doc-detail/31950.html\",\"zh-Hans\":\"https://help.aliyun.com/document_detail/31950.html\"},config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{enc:a,HmacSHA1:c}=r.crypto,u=\"PUT\",h=t[i],p=l[t[n]],d=e.path,f=e.type,m=(new Date).toGMTString(),g=[u,\"\",f,m,\"x-oss-object-acl:public-read\",`/${h}/${decodeURI(d)}`].join(\"\\n\"),_=a.Utf8.parse(g),y=a.Base64.stringify(c(_,t[s]));return{method:u,url:`https://${h}.${p}.aliyuncs.com/${d}`,header:{\"Content-Type\":f,Authorization:`OSS ${t[o]}:${y}`,Date:m,\"x-oss-object-acl\":\"public-read\"},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"cO7Cs\",(function(e,t){const n=\"cos.region\",i=\"cos.bucket\",o=\"secret.identifier\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"ap-beijing-1\",\"ap-beijing\",\"ap-nanjing\",\"ap-shanghai\",\"ap-guangzhou\",\"ap-chengdu\",\"ap-chongqing\",\"ap-shenzhen-fsi\",\"ap-shanghai-fsi\",\"ap-beijing-fsi\",\"ap-hongkong\",\"ap-singapore\",\"ap-mumbai\",\"ap-jakarta\",\"ap-seoul\",\"ap-bangkok\",\"ap-tokyo\",\"na-siliconvalley\",\"na-ashburn\",\"na-toronto\",\"sa-saopaulo\",\"eu-frankfurt\",\"eu-moscow\"],c={\"ap-beijing-1\":{en:\"Beijing 1\",\"zh-Hans\":\"北京一区\"},\"ap-beijing\":{en:\"Beijing\",\"zh-Hans\":\"北京\"},\"ap-nanjing\":{en:\"Nanjing\",\"zh-Hans\":\"南京\"},\"ap-shanghai\":{en:\"Shanghai\",\"zh-Hans\":\"上海\"},\"ap-guangzhou\":{en:\"Guangzhou\",\"zh-Hans\":\"广州\"},\"ap-chengdu\":{en:\"Chengdu\",\"zh-Hans\":\"成都\"},\"ap-chongqing\":{en:\"Chongqing\",\"zh-Hans\":\"重庆\"},\"ap-shenzhen-fsi\":{en:\"Shenzhen Finance\",\"zh-Hans\":\"深圳金融\"},\"ap-shanghai-fsi\":{en:\"Shanghai Finance\",\"zh-Hans\":\"上海金融\"},\"ap-beijing-fsi\":{en:\"Beijing Finance\",\"zh-Hans\":\"北京金融\"},\"ap-hongkong\":{en:\"Hong Kong, China\",\"zh-Hans\":\"中国香港\"},\"ap-singapore\":{en:\"Singapore\",\"zh-Hans\":\"新加坡\"},\"ap-mumbai\":{en:\"Mumbai\",\"zh-Hans\":\"孟买\"},\"ap-jakarta\":{en:\"Jakarta\",\"zh-Hans\":\"雅加达\"},\"ap-seoul\":{en:\"Seoul\",\"zh-Hans\":\"首尔\"},\"ap-bangkok\":{en:\"Bangkok\",\"zh-Hans\":\"曼谷\"},\"ap-tokyo\":{en:\"Tokyo\",\"zh-Hans\":\"东京\"},\"na-siliconvalley\":{en:\"Silicon Valley\",\"zh-Hans\":\"硅谷 (美西)\"},\"na-ashburn\":{en:\"Virginia\",\"zh-Hans\":\"弗吉尼亚 (美东)\"},\"na-toronto\":{en:\"Toronto\",\"zh-Hans\":\"多伦多\"},\"sa-saopaulo\":{en:\"São Paulo\",\"zh-Hans\":\"圣保罗\"},\"eu-frankfurt\":{en:\"Frankfurt\",\"zh-Hans\":\"法兰克福\"},\"eu-moscow\":{en:\"Moscow\",\"zh-Hans\":\"莫斯科\"}};function u(e,t){return`https://${(()=>{const e=t[r];if(e&&e.length>0)return e;return`${t[i]}.cos.${l[t[n]]}.myqcloud.com`})()}/${e}${t[a]||\"\"}`}e.exports={name:{en:\"Tencent COS\",\"zh-Hans\":\"腾讯云 COS\"},supportsFilePath:!0,onlineDoc:{en:\"https://intl.cloud.tencent.com/document/product/628/11782\",\"zh-Hans\":\"https://cloud.tencent.com/document/product/628/47885\"},config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Secret ID\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{enc:a,SHA1:c,HmacSHA1:u}=r.crypto,h=e.path,p=`${t[i]}.cos.${l[t[n]]}.myqcloud.com`,d=parseInt((new Date).getTime()/1e3),f=`${d};${d+7200}`,m=`put\\n/${decodeURI(h)}\\n\\nhost=${p}\\n`,g=`sha1\\n${f}\\n${c(a.Utf8.parse(m)).toString()}\\n`,_=u(f,t[s]).toString(),y=u(g,_).toString(),b=`q-sign-algorithm=sha1&q-ak=${t[o]}&q-sign-time=${f}&q-key-time=${f}&q-header-list=host&q-url-param-list=&q-signature=${y}`;return{method:\"put\",url:`https://${p}/${h}`,header:{\"Content-Type\":e.type,Authorization:b,\"x-cos-acl\":\"public-read\"},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"hJmPK\",(function(e,t){const n=\"bos.region\",i=\"bos.bucket\",o=\"access.key\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"bj\",\"bd\",\"su\",\"gz\",\"hkg\",\"sin\",\"fwh\",\"fsh\"],c={bj:{en:\"North China (Beijing)\",\"zh-Hans\":\"华北 (北京)\"},bd:{en:\"North China (Baoding)\",\"zh-Hans\":\"华北 (保定)\"},su:{en:\"East China (Suzhou)\",\"zh-Hans\":\"华东 (苏州)\"},gz:{en:\"South China (Guangzhou)\",\"zh-Hans\":\"华南 (广州)\"},hkg:{en:\"Hong Kong, China\",\"zh-Hans\":\"中国香港\"},sin:{en:\"Singapore\",\"zh-Hans\":\"新加坡\"},fwh:{en:\"Central China Finance (Wuhan)\",\"zh-Hans\":\"华中金融 (武汉)\"},fsh:{en:\"East China Finance (Shanghai)\",\"zh-Hans\":\"华东金融 (上海)\"}};function u(e,t){return`https://${(()=>{const e=t[r];if(e&&e.length>0)return e;return`${t[i]}.${l[t[n]]}.bcebos.com`})()}/${e}${t[a]||\"\"}`}e.exports={name:{en:\"Baidu BOS\",\"zh-Hans\":\"百度云 BOS\"},supportsFilePath:!0,onlineDoc:{en:\"https://intl.cloud.baidu.com/doc/Reference/s/jjwvz2e3p-en\",\"zh-Hans\":\"https://cloud.baidu.com/doc/Reference/s/jjwvz2e3p\"},config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{HmacSHA256:a}=r.crypto,c=\"PUT\",u=`${t[i]}.${l[t[n]]}.bcebos.com`,h=e.path,p=e.type,d=`${(new Date).toISOString().substring(0,19)}Z`,f=[c,`/${h}`,\"\",`host:${u}`].join(\"\\n\"),m=`bce-auth-v1/${t[o]}/${d}/1800`,g=a(m,t[s]).toString();return{method:c,url:`https://${u}/${h}`,header:{\"Content-Type\":p,Authorization:`${m}/host/${a(f,g).toString()}`,\"x-bce-acl\":\"public-read\",\"x-bce-date\":d},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"3tgmq\",(function(e,t){const n=\"obs.region\",i=\"obs.bucket\",o=\"access.key\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"cn-north-1\",\"cn-north-4\",\"cn-north-9\",\"cn-east-2\",\"cn-east-3\",\"cn-south-1\",\"cn-southwest-2\",\"af-south-1\",\"na-mexico-1\",\"la-north-2\",\"la-south-2\",\"sa-brazil-1\",\"ap-southeast-1\",\"ap-southeast-2\",\"ap-southeast-3\"],c={\"cn-north-1\":{en:\"North China (Beijing 1)\",\"zh-Hans\":\"华北 (北京 1)\"},\"cn-north-4\":{en:\"North China (Beijing 4)\",\"zh-Hans\":\"华北 (北京 4)\"},\"cn-north-9\":{en:\"North China (Ulanqab 1)\",\"zh-Hans\":\"华北 (乌兰察布 1)\"},\"cn-east-2\":{en:\"East China (Shanghai 2)\",\"zh-Hans\":\"华东 (上海 2)\"},\"cn-east-3\":{en:\"East China (Shanghai 1)\",\"zh-Hans\":\"华东 (上海 1)\"},\"cn-south-1\":{en:\"South China (Guangzhou)\",\"zh-Hans\":\"华南 (广州)\"},\"cn-southwest-2\":{en:\"Southwest (Guiyang 1)\",\"zh-Hans\":\"西南 (贵阳 1)\"},\"af-south-1\":{en:\"Africa (Johannesburg)\",\"zh-Hans\":\"非洲 (约翰内斯堡)\"},\"na-mexico-1\":{en:\"Latin America (Mexico 1)\",\"zh-Hans\":\"拉美 (墨西哥 1)\"},\"la-north-2\":{en:\"Latin America (Mexico 2)\",\"zh-Hans\":\"拉美 (墨西哥 2)\"},\"la-south-2\":{en:\"Latin America (Santiago)\",\"zh-Hans\":\"拉美 (圣地亚哥)\"},\"sa-brazil-1\":{en:\"Latin America (São Paulo 1)\",\"zh-Hans\":\"拉美 (圣保罗 1)\"},\"ap-southeast-1\":{en:\"China (Hong Kong)\",\"zh-Hans\":\"中国 (香港)\"},\"ap-southeast-2\":{en:\"Asia Pacific (Bangkok)\",\"zh-Hans\":\"亚太 (曼谷)\"},\"ap-southeast-3\":{en:\"Asia Pacific (Singapore)\",\"zh-Hans\":\"亚太 (新加坡)\"}};function u(e,t){return`https://${(()=>{const e=t[r];if(e&&e.length>0)return e;return`${t[i]}.obs.${l[t[n]]}.myhuaweicloud.com`})()}/${e}${t[a]||\"\"}`}e.exports={name:{en:\"Huawei OBS\",\"zh-Hans\":\"华为云 OBS\"},supportsFilePath:!0,onlineDoc:{en:\"https://support.huaweicloud.com/intl/en-us/productdesc-obs/obs_03_0208.html\",\"zh-Hans\":\"https://support.huaweicloud.com/productdesc-obs/obs_03_0208.html\"},config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{enc:a,HmacSHA1:c}=r.crypto,u=\"PUT\",h=t[i],p=l[t[n]],d=e.path,f=e.type,m=(new Date).toUTCString(),g=[u,\"\",f,m,\"x-obs-acl:public-read\",`/${h}/${d}`].join(\"\\n\"),_=a.Base64.stringify(c(g,t[s]));return{method:u,url:`https://${h}.obs.${p}.myhuaweicloud.com/${d}`,header:{\"Content-Type\":f,Authorization:`OBS ${t[o]}:${_}`,Date:m,\"x-obs-acl\":\"public-read\"},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"i2sun\",(function(e,t){const n=\"qiniu.region\",i=\"qiniu.bucket\",o=\"access.key\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"z0\",\"z1\",\"z2\",\"na0\",\"as0\",\"cn-east-2\"],c={z0:{en:\"East China\",\"zh-Hans\":\"华东\"},z1:{en:\"North China\",\"zh-Hans\":\"华北\"},z2:{en:\"South China\",\"zh-Hans\":\"华南\"},na0:{en:\"North America\",\"zh-Hans\":\"北美\"},as0:{en:\"Southeast Asia\",\"zh-Hans\":\"东南亚\"},\"cn-east-2\":{en:\"East China (Zhejiang 2)\",\"zh-Hans\":\"华东 (浙江 2)\"}};e.exports={name:{en:\"Qiniu KODO\",\"zh-Hans\":\"七牛云 KODO\"},supportsFilePath:!0,onlineDoc:\"https://developer.qiniu.com/kodo/3702/QiniuToken\",config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{enc:a,HmacSHA1:c}=r.crypto,u=decodeURI(e.path),h=`${t[i]}:${u}`,p=parseInt((new Date).getTime()/1e3)+3600,d=e=>e.replace(/\\//g,\"_\").replace(/\\+/g,\"-\"),f=d(r.encode.base64(JSON.stringify({scope:h,deadline:p}))),m=d(a.Base64.stringify(c(f,t[s]))),g=`${t[o]}:${m}:${f}`;return{method:\"POST\",url:`https://upload${(()=>{const e=l[t[n]];return\"z0\"===e?\"\":`-${e}`})()}.qiniup.com`,form:{key:u,token:g,file:e.data}}},parse:function(e,t,n){if(!e.hash)return{error:JSON.stringify(e)};const i=n[r];if(i&&i.length>0){return{remotePath:`https://${i}/${t}${n[a]||\"\"}`}}return{error:\"Missing custom domain.\"}}}})),i.register(\"15SeB\",(function(e,t){const n=\"service.name\",i=\"uss.operator\",o=\"uss.password\",s=\"custom.domain\",r=\"url.suffix\";function a(e,t){return`${(()=>{const e=t[s];return e&&e.length>0?`https://${e}`:`http://${t[n]}.test.upcdn.net`})()}/${e}${t[r]||\"\"}`}e.exports={name:{en:\"Upyun USS\",\"zh-Hans\":\"又拍云 USS\"},supportsFilePath:!0,onlineDoc:\"https://help.upyun.com/knowledge-base/quick_start/#e6938de4bd9ce59198\",config:function(e){return[{title:{en:\"Service Name\",\"zh-Hans\":\"服务名称\"},type:\"string\",key:n},{title:{en:\"Operator\",\"zh-Hans\":\"操作员\"},type:\"string\",key:i},{title:{en:\"Password\",\"zh-Hans\":\"密码\"},type:\"password\",key:o},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:s},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:r,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,s){const{enc:r,HmacSHA1:a}=s.crypto,l=t[n],c=e.path,u=(new Date).toUTCString(),h=`PUT&${`/${l}/${c}`}&${u}`,p=s.encode.md5(t[o]),d=r.Base64.stringify(a(h,p));return{method:\"PUT\",url:`https://v0.api.upyun.com/${l}/${c}`,header:{\"Content-Type\":e.type,Authorization:`UPYUN ${t[i]}:${d}`,Date:u},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:a(t,n)}}}})),i.register(\"2lPHh\",(function(e,t){const n=\"qingstor.region\",i=\"qingstor.bucket\",o=\"access.key\",s=\"secret.key\",r=\"custom.domain\",a=\"url.suffix\",l=[\"pek3a\",\"pek3b\",\"sh1a\",\"gd2\",\"ap3\"],c={pek3a:{en:\"Beijing 3 (A)\",\"zh-Hans\":\"北京 3 区 (A)\"},pek3b:{en:\"Beijing 3 (B)\",\"zh-Hans\":\"北京 3 区 (B)\"},sh1a:{en:\"Shanghai Zone 1 (A)\",\"zh-Hans\":\"上海 1 区 (A)\"},gd2:{en:\"Guangdong 2\",\"zh-Hans\":\"广东 2 区\"},ap3:{en:\"Jakarta\",\"zh-Hans\":\"雅加达\"}};function u(e,t){return`https://${(()=>{const e=t[r];if(e&&e.length>0)return e;return`${t[i]}.${l[t[n]]}.qingstor.com`})()}/${e}${t[a]||\"\"}`}e.exports={name:{en:\"QingCloud QingStor\",\"zh-Hans\":\"青云 QingStor\"},supportsFilePath:!0,onlineDoc:\"https://docs.qingcloud.com/qingstor/api/common/signature.html#%E8%8E%B7%E5%8F%96-access-key\",config:function(e){return[{title:{en:\"Region\",\"zh-Hans\":\"地区\"},type:\"list\",items:l.map((t=>`${e.localize(c[t])}, ${t}`)),key:n},{title:{en:\"Bucket\",\"zh-Hans\":\"存储桶\"},type:\"string\",key:i},{title:\"Access Key\",type:\"password\",key:o},{title:\"Secret Key\",type:\"password\",key:s},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:r},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:a,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,r){const{enc:a,HmacSHA256:c}=r.crypto,u=\"PUT\",h=e.path,p=e.type,d=t[i],f=`${d}.${l[t[n]]}.qingstor.com`,m=(new Date).toUTCString(),g=[u,\"\",p,m,`/${d}/${h}`].join(\"\\n\"),_=a.Base64.stringify(c(g,t[s]));return{method:u,url:`http://${f}/${h}`,header:{\"Content-Type\":p,Authorization:`QS ${t[o]}:${_}`,Date:m},body:e.data}},parse:function(e,t,n){return e.length>0?{error:e}:{remotePath:u(t,n)}}}})),i.register(\"5MUpJ\",(function(e,t){const n=\"api.url\",i=\"http.method\",o=\"http.headers\",s=\"http.body\",r=\"form.filename\",a=\"json.result.path\",l=\"custom.domain\",c=\"url.suffix\",u=[\"POST\",\"PUT\"];function h(e){if(!e||0===e.length)return null;const t={};return e.split(\"\\n\").forEach((e=>{const n=e.indexOf(\": \");if(n>=0){const i=e.substring(0,n),o=e.substring(n+2);t[i]=o}})),t}e.exports={name:{en:\"Custom\",\"zh-Hans\":\"自定义\"},onlineDoc:{en:\"https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS.md\",\"zh-Hans\":\"https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS_CN.md\"},config:function(e){return[{title:{en:\"API URL\",\"zh-Hans\":\"API 地址\"},type:\"string\",key:n},{title:{en:\"HTTP Method\",\"zh-Hans\":\"HTTP 方法\"},type:\"list\",items:u,key:i},{title:{en:\"HTTP Headers\",\"zh-Hans\":\"HTTP 请求头\"},type:\"string\",key:o,inline:!1,placeholder:\"key1: value1\\nkey2: value2\"},{title:{en:\"HTTP Body\",\"zh-Hans\":\"HTTP 请求体\"},type:\"string\",key:s,inline:!1,placeholder:\"key1: value1\\nkey2: value2\"},{title:{en:\"Form File Name\",\"zh-Hans\":\"表单文件名\"},type:\"string\",key:r},{title:{en:\"JSON Result Path\",\"zh-Hans\":\"JSON 结果路径\"},type:\"string\",key:a,placeholder:{en:\"E.g., data.url\",\"zh-Hans\":\"例如 data.url\"}},{title:{en:\"Custom Domain\",\"zh-Hans\":\"自定义域名\"},type:\"string\",key:l,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}},{title:{en:\"URL Suffix\",\"zh-Hans\":\"链接后缀\"},type:\"string\",key:c,placeholder:{en:\"Optional\",\"zh-Hans\":\"可选\"}}]},request:function(e,t,a){return{url:t[n],method:u[t[i]],header:h(t[o]),body:h(t[s]),files:[{data:e.data,name:t[r]}]}},parse:function(e,t,n){const i={error:JSON.stringify(e)};try{let t=e;const o=n[a].split(\".\");for(const e of o)t=t[e];if(!t)return i;const s=n[l],r=s?`https://${s}`:\"\";return{remotePath:`${r}${t}${n[c]||\"\"}`}}catch(e){return i}}}})),i.register(\"1izSo\",(function(e,t){const n=$objc(\"NSDateFormatter\").$new();n.$setDateStyle(3),n.$setTimeStyle(2),e.exports={readableDateFrom:function(e){const t=$objc(\"NSDate\").$dateWithTimeIntervalSince1970(e/1e3);return n.$stringFromDate(t).jsValue()}}})),i.register(\"ftFcx\",(function(e,t){e.exports={exec:function(e,t,n=1){const i=$objc(\"NSRegularExpression\").$regularExpressionWithPattern_options_error(t,1,null),o={location:0,length:e.length},s=i.$matchesInString_options_range(e,0,o),r=[];for(let t=0;t<s.$count();++t){const i=s.$objectAtIndex(t).$rangeAtIndex(n),o=e.substring(i.location,i.location+i.length);r.push({range:i,path:o})}return r}}})),i.register(\"4VTYh\",(function(e,t){var n=i(\"1jkc1\"),o=i(\"lY7sD\"),s=i(\"ipxFC\"),r=i(\"lp7dv\");const a=\"app.taio.image-uploader.history\",l=\"/data.json\",c=\"/thumbnails\",u=\"/backup.zip\";function h(){return $cache.get(a)||[]}function p(e){$cache.set(a,e)}e.exports={all:h,insert:function(e){const t=h();t.unshift(e),p(t)},save:p,update:function(e,t){if(t){for(const n of e)if(n.localPath===t.localPath){Object.assign(n,t);break}p(e)}},backup:async function(){$ui.loading(!0);const e=n.backup;$file.delete(e),$file.mkdir(e);const t=$data({string:JSON.stringify(h())});$file.write({data:t,path:e+l}),s.copy(n.thumbnails,e+c),$file.delete(u);const i=await $archiver.zip({directory:e,dest:u});if($file.delete(e),$delay(.5,(()=>$ui.loading(!1))),i){const e=await $drive.save({data:$file.read(u),name:`${o.archive}.zip`});$file.delete(u),e&&r.success()}else r.error()},restore:async function(e){const t=await $drive.open({types:[\"com.pkware.zip-archive\",\"org.gnu.gnu-zip-archive\",\"org.gnu.gnu-zip-tar-archive\"]});if(!t)return;const i=n.backup;if($file.delete(i),$file.mkdir(i),$ui.loading(!0),await $archiver.unzip({file:t,dest:i})&&$file.exists(i+l)&&$file.isDirectory(i+c)){const t=JSON.parse($file.read(i+l).string);$file.isDirectory(n.thumbnails)||$file.mkdir(n.thumbnails);const r=()=>{const o=$file.list(i+c);for(const e of o){const t=`/${e}`,o=n.thumbnails+t;$file.exists(o)||s.copy(i+c+t,o)}const r=h(),a=new Set(r.map((e=>e.localPath))),l=[];for(const e of t)a.has(e.localPath)||l.push(e);r.unshift(...l),p(r),$file.delete(i),e&&e()},a=()=>{$file.delete(n.thumbnails),s.copy(i+c,n.thumbnails),p(t),$file.delete(i),e&&e()};$ui.alert({title:o.restore_images,message:o.restore_images_message,actions:[{title:o.merge,handler:r},{title:o.overwrite,style:$alertActionType.destructive,handler:a},{title:o.cancel,style:$alertActionType.cancel}]})}else r.error();$delay(.5,(()=>$ui.loading(!1)))}}})),i.register(\"ipxFC\",(function(e,t){const n=$objc(\"NSFileManager\").$defaultManager();e.exports={copy:function(e,t){return n.$copyItemAtPath_toPath_error(e,t,null)}}})),i.register(\"j9tXU\",(function(e,t){var n=i(\"lp7dv\"),o=i(\"lSKqC\");function s(e){n.success(),$clipboard.text=e}e.exports={copyText:s,copyURL:function(e){s(o.itemURL(e))},copyHTML:function(e){s(o.itemHTML(e))},copyMarkdown:function(e){s(o.itemMarkdown(e))},copyBBCode:function(e){s(o.itemBBCode(e))}}})),i.register(\"lSKqC\",(function(e,t){var n=i(\"8ZsIi\");const o=i(\"lY7sD\").default_image_alt;e.exports={itemURL:function(e){return e.remotePath},itemHTML:function(e){return`<img src=\"${e.remotePath}\" alt=\"${o}\">`},itemMarkdown:function(e){return`![${o}](${e.remotePath})`},itemBBCode:function(e){return`[img alt=\"${o}\"]${e.remotePath}[/img]`},itemTitle:function(e){if(e.remotePath){const t=n.lastPath(e.remotePath);return decodeURI(t).split(\"?\")[0]}return\"image\"}}})),i.register(\"bWprA\",(function(e,t){var n=i(\"kPrPt\"),o=i(\"lY7sD\"),s=i(\"15llP\"),r=i(\"8s5K6\"),a=i(\"en7Ar\"),l=i(\"7OQxW\"),c=i(\"kF9tO\"),u=i(\"9A6Ij\"),h=i(\"8ZsIi\");const p={isEditing:!1},d=()=>$(\"uploader-list\"),f=()=>$(\"uploader-empty\");function m(){const e=c.all().map((e=>_(e)));g(e);const t=d();t&&(t.data=e)}function g(e=[]){const t=d();t&&(t.hidden=0===e.length);const n=f();n&&(n.hidden=!t.hidden)}function _(e){return{title:{text:e[c.nameKey]}}}e.exports={props:{title:o.uploaders,navButtons:[{title:o.tips,symbol:s.ellipsis,menu:{asPrimary:!0,items:[{title:o.toggle_editing,symbol:s.switch,handler:()=>{p.isEditing=!p.isEditing,d().setEditing(p.isEditing)}},{title:o.tips,symbol:s.lightbulb,handler:()=>{$ui.alert({title:o.tips,message:o.uploaders_tips})}},{title:o.learn_more,symbol:s.plaintext,handler:()=>$app.openURL(o.docs_url)}]}},{title:o.add_uploader,symbol:s.drive_plus,menu:function(){const e=Object.keys(l);return{title:o.add_uploader,asPrimary:!0,items:e.map((e=>{const t=l[e];return{title:h.localize(t.name),symbol:s.drive,handler:()=>async function(e,t){try{const n=await r.create(e,t);g(c.all());d().insert({index:0,value:_(n)})}catch(e){console.error(e)}}(t,e)}}))}}()}]},views:[{type:\"list\",props:{id:\"uploader-list\",style:2,reorder:!0,template:a.list,actions:[{title:\"delete\",handler:(e,t)=>{!function(e){const t=c.all(),n=t[e];Object.keys(n).forEach((e=>{u.remove(n[e])})),t.splice(e,1),c.save(t),0===t.length&&$delay(.4,g)}(t.row)}}]},layout:$layout.fill,events:{ready:m,didSelect:(e,t)=>{const n=t.row,i=c.all()[n];!async function(e,t,n){try{const i=await r.edit(e,t),o=c.all();o[n]=i,c.save(o),m()}catch(e){console.error(e)}}(l[i.identifier],i,n)},reorderMoved:(e,t)=>{if(e.row!==t.row){const n=c.all();!function(e,t,n){if(n>=e.length){let t=n-e.length+1;for(;t--;)e.push(void 0)}e.splice(n,0,e.splice(t,1)[0])}(n,e.row,t.row),c.save(n)}}}},{type:\"label\",props:{id:\"uploader-empty\",text:o.uploaders_empty_text,textColor:n.lightGray},layout:(e,t)=>{e.centerX.equalTo(t.super),e.centerY.equalTo(t.super.safeAreaCenterY)}}]}})),i.register(\"8s5K6\",(function(e,t){var n=i(\"8ZsIi\"),o=i(\"lY7sD\"),s=i(\"kF9tO\"),r=i(\"9A6Ij\");async function a(e,t,i=!1){const a=t[s.nameKey]||n.localize(e.name),l=await $prefs.edit({title:a,insetGrouped:!0,groups:[{items:[{title:o.uploader_name,type:\"string\",key:s.nameKey,inline:!0,value:a},...e.supportsFilePath?[{title:o.file_path,type:\"string\",key:s.filePathKey,inline:!0,value:t[s.filePathKey]||\"{random}.{suffix}\"},{title:o.file_path_docs_title,type:\"script\",value:`$ui.push({\\n                props: {\\n                  title: \\`${o.file_path_docs_title}\\`\\n                },\\n                views: [\\n                  {\\n                    type: \"markdown\",\\n                    props: {\\n                      content: \\`${o.file_path_docs_content}\\`\\n                    },\\n                    layout: $layout.fill\\n                  }\\n                ]\\n              })`}]:[]]},{items:[...e.config(n.injectable).map((e=>({title:n.localize(e.title),type:e.type,key:e.key,inline:!e.hasOwnProperty(\"inline\")||e.inline,value:(()=>{const n=t[e.key];return n?r.read(n):e.value})(),items:e.items,placeholder:n.localize(e.placeholder)}))),...e.onlineDoc?[{title:n.localize({en:\"Documentation\",\"zh-Hans\":\"文档\"}),type:\"link\",value:n.localize(e.onlineDoc)}]:[]]}]}),c={identifier:t.identifier};return l.groups.forEach((e=>{e.items.forEach((e=>{if(\"link\"===e.type||\"script\"===e.type)return;const n=(()=>{const n=e.value;if(!n)return\"list\"===e.type?0:n;if(\"password\"===e.type){const i=t[e.key];return i?r.update(i,n):r.save(n)}return n})();c[e.key]=n})),c.uuid||(c.uuid=$text.uuid)})),i&&s.create(c),c}e.exports={create:function(e,t){return a(e,{identifier:t},!0)},edit:a}})),i.register(\"en7Ar\",(function(e,t){var n=i(\"kPrPt\"),o=i(\"lY7sD\");i(\"8ZsIi\");const s=[{type:\"image\",props:{id:\"image\",isAccessibilityElement:!0,bgcolor:n.lightBackground,contentMode:$contentMode.scaleAspectFit},layout:$layout.fill},{type:\"spinner\",props:{id:\"spinner\",style:0},layout:(e,t)=>{e.center.equalTo(t.super)}},{type:\"view\",props:{id:\"failed\",hidden:!0,bgcolor:n.errorBackground},layout:e=>{e.left.bottom.right.equalTo(0),e.height.equalTo(20)},views:[{type:\"label\",props:{font:$font(13),textColor:n.errorStroke,text:o.upload_failed},layout:(e,t)=>{e.center.equalTo(t.super)}}]},{type:\"view\",props:{id:\"cycle\",hidden:!0,bgcolor:n.white,cornerRadius:9},layout:e=>{e.bottom.right.inset(8),e.size.equalTo($size(18,18))}},{type:\"image\",props:{id:\"checkmark\",hidden:!0,tintColor:n.blue},layout:e=>{e.bottom.right.inset(5),e.size.equalTo($size(25,25))}}],r=[{type:\"image\",props:{id:\"image\",bgcolor:n.lightBackground,contentMode:$contentMode.scaleAspectFit},layout:(e,t)=>{e.left.top.bottom.inset(5),e.width.equalTo(t.height)}},{type:\"label\",props:{id:\"label\",align:$align.center,lines:0},layout:e=>{e.left.equalTo($(\"image\").right).offset(8),e.top.right.bottom.inset(8)}}];e.exports={list:{props:{accessoryType:1},views:[{type:\"label\",props:{id:\"title\"},layout:(e,t)=>{e.centerY.equalTo(t.super),e.left.right.inset(15)}}]},table:s,errors:r}})),i.register(\"04vlo\",(function(e,t){var n=i(\"cWFKr\"),o=i(\"kF9tO\"),s=i(\"lY7sD\"),r=i(\"eyyYS\");e.exports={selectImages:async function(e,t,a,l){const c=o.all();if(0===c.length)return void $ui.alert({title:s.no_uploader_title,message:s.no_uploader_message,actions:[{title:s.add_uploader,handler:()=>{const e=i(\"bWprA\");$ui.push(e)}},{title:s.cancel,style:$alertActionType.cancel}]});const{images:u,context:h}=await n.selectImages(e);0!==u.length&&$ui.alert({title:s.select_uploader,message:s.config_uploader_message,actions:[...c.map((e=>({title:e[o.nameKey],handler:()=>{r(t,a,l,u,e,h||{})}}))),{title:s.cancel,style:$alertActionType.cancel}]})}}})),i.register(\"eyyYS\",(function(e,t){var n=i(\"3aqxa\"),o=i(\"bvlBL\"),s=i(\"8ZsIi\"),r=i(\"ijZ7e\"),a=i(\"5xn8Y\"),l=i(\"4VTYh\"),c=i(\"lY7sD\");e.exports=function(e,t,u,h,p,d={}){const f=e.main(),m=e.empty(),g=[],_=[],y={remaining:h.length};h.forEach(((e,h)=>{f.hidden=!1,m.alpha=0,a.schedule((a=>{$thread.background((()=>{const m=r.makeThumb(e),b=n.makePlaceholder(m);t.data.unshift(m),l.save(t.data),$thread.main((async()=>{f.insert({value:b,index:0}),await $wait(.4);const n=await o.uploadFile(e,m,p);l.update(t.data,n),n.error?g.push(n):d.replacePaths&&_.push({local:d.localItems[h],uploaded:n}),--y.remaining,0===y.remaining&&(_.length>0&&s.replaceIntoDocument(_),g.length>0&&function(e){$ui.alert({title:c.finished_with_errors,message:`${e.length} ${1===e.length?c.failed_to_upload_singular:c.failed_to_upload_plural}`,actions:[{title:c.check_out_errors,handler:()=>{i(\"dPVr2\").push(e)}},{title:c.cancel,style:$alertActionType.cancel}]})}(g)),u.reloadData(),a&&$delay(.2,a)}))}))}))}))}})),i.register(\"ijZ7e\",(function(e,t){var n=i(\"bmV6j\"),o=i(\"iKiZL\");e.exports={makeThumb:function(e){const t=e.image,i=(()=>{const e=o.thumbSize();return $size(e,e)})(),s=t.resized(i).jpg(.8);return n.save(s)}}})),i.register(\"5xn8Y\",(function(e,t){const n=new(i(\"jyZEo\"))({maxConcurrent:5});e.exports={schedule:function(e){n.schedule((()=>new Promise(e)))}}})),i.register(\"jyZEo\",(function(t,n){var i,o;i=t.exports,o=function(){\"use strict\";var t,n,i=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},o={load:function(e,t,n={}){var i,o,s;for(i in t)s=t[i],n[i]=null!=(o=e[i])?o:s;return n},overwrite:function(e,t,n={}){var i,o;for(i in e)o=e[i],void 0!==t[i]&&(n[i]=o);return n}},s=class{constructor(e,t){this.incr=e,this.decr=t,this._first=null,this._last=null,this.length=0}push(e){var t;this.length++,\"function\"==typeof this.incr&&this.incr(),t={value:e,prev:this._last,next:null},null!=this._last?(this._last.next=t,this._last=t):this._first=this._last=t}shift(){var e;if(null!=this._first)return this.length--,\"function\"==typeof this.decr&&this.decr(),e=this._first.value,null!=(this._first=this._first.next)?this._first.prev=null:this._last=null,e}first(){if(null!=this._first)return this._first.value}getArray(){var e,t,n;for(e=this._first,n=[];null!=e;)n.push((t=e,e=e.next,t.value));return n}forEachShift(e){var t;for(t=this.shift();null!=t;)e(t),t=this.shift()}debug(){var e,t,n,i,o;for(e=this._first,o=[];null!=e;)o.push((t=e,e=e.next,{value:t.value,prev:null!=(n=t.prev)?n.value:void 0,next:null!=(i=t.next)?i.value:void 0}));return o}},r=class{constructor(e){if(this.instance=e,this._events={},null!=this.instance.on||null!=this.instance.once||null!=this.instance.removeAllListeners)throw new Error(\"An Emitter already exists for this object\");this.instance.on=(e,t)=>this._addListener(e,\"many\",t),this.instance.once=(e,t)=>this._addListener(e,\"once\",t),this.instance.removeAllListeners=(e=null)=>null!=e?delete this._events[e]:this._events={}}_addListener(e,t,n){var i;return null==(i=this._events)[e]&&(i[e]=[]),this._events[e].push({cb:n,status:t}),this.instance}listenerCount(e){return null!=this._events[e]?this._events[e].length:0}async trigger(e,...t){var n,i;try{if(\"debug\"!==e&&this.trigger(\"debug\",`Event triggered: ${e}`,t),null==this._events[e])return;return this._events[e]=this._events[e].filter((function(e){return\"none\"!==e.status})),i=this._events[e].map((async e=>{var n,i;if(\"none\"!==e.status){\"once\"===e.status&&(e.status=\"none\");try{return\"function\"==typeof(null!=(i=\"function\"==typeof e.cb?e.cb(...t):void 0)?i.then:void 0)?await i:i}catch(e){return n=e,this.trigger(\"error\",n),null}}})),(await Promise.all(i)).find((function(e){return null!=e}))}catch(e){return n=e,this.trigger(\"error\",n),null}}};t=s,n=r;var a,l,c,u,h,p,d=class extends Error{};l=o,a=d,u=o,c=d,h=d,p=s;var f,m,g,_,y,b=\"2.19.5\",v={version:b},E=Object.freeze({version:b,default:v}),$=()=>console.log(\"You must import the full version of Bottleneck in order to use this feature.\"),k=()=>console.log(\"You must import the full version of Bottleneck in order to use this feature.\");y=o,f=r,g=$,m=k,_=()=>console.log(\"You must import the full version of Bottleneck in order to use this feature.\");var w,S,A=function(){class e{constructor(e={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=e,y.load(this.limiterOptions,this.defaults,this),this.Events=new f(this),this.instances={},this.Bottleneck=U,this._startAutoCleanup(),this.sharedConnection=null!=this.connection,null==this.connection&&(\"redis\"===this.limiterOptions.datastore?this.connection=new g(Object.assign({},this.limiterOptions,{Events:this.Events})):\"ioredis\"===this.limiterOptions.datastore&&(this.connection=new m(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(e=\"\"){var t;return null!=(t=this.instances[e])?t:(()=>{var t;return t=this.instances[e]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${e}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger(\"created\",t,e),t})()}async deleteKey(e=\"\"){var t,n;return n=this.instances[e],this.connection&&(t=await this.connection.__runCommand__([\"del\",..._.allKeys(`${this.id}-${e}`)])),null!=n&&(delete this.instances[e],await n.disconnect()),null!=n||t>0}limiters(){var e,t,n,i;for(e in n=[],t=this.instances)i=t[e],n.push({key:e,limiter:i});return n}keys(){return Object.keys(this.instances)}async clusterKeys(){var e,t,n,i,o,s,r,a;if(null==this.connection)return this.Promise.resolve(this.keys());for(o=[],e=null,a=`b_${this.id}-`.length;0!==e;)for([r,t]=await this.connection.__runCommand__([\"scan\",null!=e?e:0,\"match\",`b_${this.id}-*_settings`,\"count\",1e4]),e=~~r,n=0,s=t.length;n<s;n++)i=t[n],o.push(i.slice(a,-9));return o}_startAutoCleanup(){var e;return clearInterval(this.interval),\"function\"==typeof(e=this.interval=setInterval((async()=>{var e,t,n,i,o,s;for(t in o=Date.now(),i=[],n=this.instances){s=n[t];try{await s._store.__groupCheck__(o)?i.push(this.deleteKey(t)):i.push(void 0)}catch(t){e=t,i.push(s.Events.trigger(\"error\",e))}}return i}),this.timeout/2)).unref?e.unref():void 0}updateSettings(e={}){if(y.overwrite(e,this.defaults,this),y.overwrite(e,e,this.limiterOptions),null!=e.timeout)return this._startAutoCleanup()}disconnect(e=!0){var t;if(!this.sharedConnection)return null!=(t=this.connection)?t.disconnect(e):void 0}}return e.prototype.defaults={timeout:3e5,connection:null,Promise:Promise,id:\"group-key\"},e}.call(i);S=o,w=r;var T,O,I,z,D,C,P,H,L,x=function(){class e{constructor(e={}){this.options=e,S.load(this.options,this.defaults,this),this.Events=new w(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise(((e,t)=>this._resolve=e))}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger(\"batch\",this._arr),this._arr=[],this._resetPromise()}add(e){var t;return this._arr.push(e),t=this._promise,this._arr.length===this.maxSize?this._flush():null!=this.maxTime&&1===this._arr.length&&(this._timeout=setTimeout((()=>this._flush()),this.maxTime)),t}}return e.prototype.defaults={maxTime:null,maxSize:null,Promise:Promise},e}.call(i),R=(T=E)&&T.default||T,B=[].splice;L=o,D=class{constructor(e){this.Events=new n(this),this._length=0,this._lists=function(){var n,i,o;for(o=[],n=1,i=e;1<=i?n<=i:n>=i;1<=i?++n:--n)o.push(new t((()=>this.incr()),(()=>this.decr())));return o}.call(this)}incr(){if(0==this._length++)return this.Events.trigger(\"leftzero\")}decr(){if(0==--this._length)return this.Events.trigger(\"zero\")}push(e){return this._lists[e.options.priority].push(e)}queued(e){return null!=e?this._lists[e].length:this._length}shiftAll(e){return this._lists.forEach((function(t){return t.forEachShift(e)}))}getFirst(e=this._lists){var t,n,i;for(t=0,n=e.length;t<n;t++)if((i=e[t]).length>0)return i;return[]}shiftLastFrom(e){return this.getFirst(this._lists.slice(e).reverse()).shift()}},I=class{constructor(e,t,n,i,o,s,r,a){this.task=e,this.args=t,this.rejectOnDrop=o,this.Events=s,this._states=r,this.Promise=a,this.options=l.load(n,i),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===i.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise(((e,t)=>{this._resolve=e,this._reject=t})),this.retryCount=0}_sanitizePriority(e){var t;return(t=~~e!==e?5:e)<0?0:t>9?9:t}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:e,message:t=\"This job has been dropped by Bottleneck\"}={}){return!!this._states.remove(this.options.id)&&(this.rejectOnDrop&&this._reject(null!=e?e:new a(t)),this.Events.trigger(\"dropped\",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0)}_assertStatus(e){var t;if((t=this._states.jobStatus(this.options.id))!==e&&(\"DONE\"!==e||null!==t))throw new a(`Invalid job status ${t}, expected ${e}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger(\"received\",{args:this.args,options:this.options})}doQueue(e,t){return this._assertStatus(\"RECEIVED\"),this._states.next(this.options.id),this.Events.trigger(\"queued\",{args:this.args,options:this.options,reachedHWM:e,blocked:t})}doRun(){return 0===this.retryCount?(this._assertStatus(\"QUEUED\"),this._states.next(this.options.id)):this._assertStatus(\"EXECUTING\"),this.Events.trigger(\"scheduled\",{args:this.args,options:this.options})}async doExecute(e,t,n,i){var o,s,r;0===this.retryCount?(this._assertStatus(\"RUNNING\"),this._states.next(this.options.id)):this._assertStatus(\"EXECUTING\"),s={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger(\"executing\",s);try{if(r=await(null!=e?e.schedule(this.options,this.task,...this.args):this.task(...this.args)),t())return this.doDone(s),await i(this.options,s),this._assertStatus(\"DONE\"),this._resolve(r)}catch(e){return o=e,this._onFailure(o,s,t,n,i)}}doExpire(e,t,n){var i,o;return this._states.jobStatus(\"RUNNING\"===this.options.id)&&this._states.next(this.options.id),this._assertStatus(\"EXECUTING\"),o={args:this.args,options:this.options,retryCount:this.retryCount},i=new a(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(i,o,e,t,n)}async _onFailure(e,t,n,i,o){var s,r;if(n())return null!=(s=await this.Events.trigger(\"failed\",e,t))?(r=~~s,this.Events.trigger(\"retry\",`Retrying ${this.options.id} after ${r} ms`,t),this.retryCount++,i(r)):(this.doDone(t),await o(this.options,t),this._assertStatus(\"DONE\"),this._reject(e))}doDone(e){return this._assertStatus(\"EXECUTING\"),this._states.next(this.options.id),this.Events.trigger(\"done\",e)}},z=class{constructor(e,t,n){this.instance=e,this.storeOptions=t,this.clientId=this.instance._randomIndex(),u.load(n,n,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var e;return null==this.heartbeat&&(null!=this.storeOptions.reservoirRefreshInterval&&null!=this.storeOptions.reservoirRefreshAmount||null!=this.storeOptions.reservoirIncreaseInterval&&null!=this.storeOptions.reservoirIncreaseAmount)?\"function\"==typeof(e=this.heartbeat=setInterval((()=>{var e,t,n,i,o;if(i=Date.now(),null!=this.storeOptions.reservoirRefreshInterval&&i>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=i,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),null!=this.storeOptions.reservoirIncreaseInterval&&i>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&(({reservoirIncreaseAmount:e,reservoirIncreaseMaximum:n,reservoir:o}=this.storeOptions),this._lastReservoirIncrease=i,(t=null!=n?Math.min(e,n-o):e)>0))return this.storeOptions.reservoir+=t,this.instance._drainAll(this.computeCapacity())}),this.heartbeatInterval)).unref?e.unref():void 0:clearInterval(this.heartbeat)}async __publish__(e){return await this.yieldLoop(),this.instance.Events.trigger(\"message\",e.toString())}async __disconnect__(e){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(e=0){return new this.Promise((function(t,n){return setTimeout(t,e)}))}computePenalty(){var e;return null!=(e=this.storeOptions.penalty)?e:15*this.storeOptions.minTime||5e3}async __updateSettings__(e){return await this.yieldLoop(),u.overwrite(e,e,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(e){return await this.yieldLoop(),this._nextRequest+this.timeout<e}computeCapacity(){var e,t;return({maxConcurrent:e,reservoir:t}=this.storeOptions),null!=e&&null!=t?Math.min(e-this._running,t):null!=e?e-this._running:null!=t?t:null}conditionsCheck(e){var t;return null==(t=this.computeCapacity())||e<=t}async __incrementReservoir__(e){var t;return await this.yieldLoop(),t=this.storeOptions.reservoir+=e,this.instance._drainAll(this.computeCapacity()),t}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(e){return this._unblockTime>=e}check(e,t){return this.conditionsCheck(e)&&this._nextRequest-t<=0}async __check__(e){var t;return await this.yieldLoop(),t=Date.now(),this.check(e,t)}async __register__(e,t,n){var i,o;return await this.yieldLoop(),i=Date.now(),this.conditionsCheck(t)?(this._running+=t,null!=this.storeOptions.reservoir&&(this.storeOptions.reservoir-=t),o=Math.max(this._nextRequest-i,0),this._nextRequest=i+o+this.storeOptions.minTime,{success:!0,wait:o,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return 3===this.storeOptions.strategy}async __submit__(e,t){var n,i,o;if(await this.yieldLoop(),null!=this.storeOptions.maxConcurrent&&t>this.storeOptions.maxConcurrent)throw new c(`Impossible to add a job having a weight of ${t} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return i=Date.now(),o=null!=this.storeOptions.highWater&&e===this.storeOptions.highWater&&!this.check(t,i),(n=this.strategyIsBlock()&&(o||this.isBlocked(i)))&&(this._unblockTime=i+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:o,blocked:n,strategy:this.storeOptions.strategy}}async __free__(e,t){return await this.yieldLoop(),this._running-=t,this._done+=t,this.instance._drainAll(this.computeCapacity()),{running:this._running}}},C=()=>console.log(\"You must import the full version of Bottleneck in order to use this feature.\"),O=r,P=class{constructor(e){this.status=e,this._jobs={},this.counts=this.status.map((function(){return 0}))}next(e){var t,n;return n=(t=this._jobs[e])+1,null!=t&&n<this.status.length?(this.counts[t]--,this.counts[n]++,this._jobs[e]++):null!=t?(this.counts[t]--,delete this._jobs[e]):void 0}start(e){return this._jobs[e]=0,this.counts[0]++}remove(e){var t;return null!=(t=this._jobs[e])&&(this.counts[t]--,delete this._jobs[e]),null!=t}jobStatus(e){var t;return null!=(t=this.status[this._jobs[e]])?t:null}statusJobs(e){var t,n,i,o;if(null!=e){if((n=this.status.indexOf(e))<0)throw new h(`status must be one of ${this.status.join(\", \")}`);for(t in o=[],i=this._jobs)i[t]===n&&o.push(t);return o}return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce(((e,t,n)=>(e[this.status[n]]=t,e)),{})}},H=class{constructor(e,t){this.schedule=this.schedule.bind(this),this.name=e,this.Promise=t,this._running=0,this._queue=new p}isEmpty(){return 0===this._queue.length}async _tryToRun(){var e,t,n,i,o,s,r;if(this._running<1&&this._queue.length>0)return this._running++,({task:r,args:e,resolve:o,reject:i}=this._queue.shift()),t=await async function(){try{return s=await r(...e),function(){return o(s)}}catch(e){return n=e,function(){return i(n)}}}(),this._running--,this._tryToRun(),t()}schedule(e,...t){var n,i,o;return o=i=null,n=new this.Promise((function(e,t){return o=e,i=t})),this._queue.push({task:e,args:t,resolve:o,reject:i}),this._tryToRun(),n}};var U=function(){class e{constructor(t={},...n){var i,o;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(t,n),L.load(t,this.instanceDefaults,this),this._queues=new D(10),this._scheduled={},this._states=new P([\"RECEIVED\",\"QUEUED\",\"RUNNING\",\"EXECUTING\"].concat(this.trackDoneStatus?[\"DONE\"]:[])),this._limiter=null,this.Events=new O(this),this._submitLock=new H(\"submit\",this.Promise),this._registerLock=new H(\"register\",this.Promise),o=L.load(t,this.storeDefaults,{}),this._store=function(){if(\"redis\"===this.datastore||\"ioredis\"===this.datastore||null!=this.connection)return i=L.load(t,this.redisStoreDefaults,{}),new C(this,o,i);if(\"local\"===this.datastore)return i=L.load(t,this.localStoreDefaults,{}),new z(this,o,i);throw new e.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on(\"leftzero\",(()=>{var e;return null!=(e=this._store.heartbeat)&&\"function\"==typeof e.ref?e.ref():void 0})),this._queues.on(\"zero\",(()=>{var e;return null!=(e=this._store.heartbeat)&&\"function\"==typeof e.unref?e.unref():void 0}))}_validateOptions(t,n){if(null==t||\"object\"!=typeof t||0!==n.length)throw new e.prototype.BottleneckError(\"Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.\")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(e){return this._store.__publish__(e)}disconnect(e=!0){return this._store.__disconnect__(e)}chain(e){return this._limiter=e,this}queued(e){return this._queues.queued(e)}clusterQueued(){return this._store.__queued__()}empty(){return 0===this.queued()&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(e){return this._states.jobStatus(e)}jobs(e){return this._states.statusJobs(e)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(e=1){return this._store.__check__(e)}_clearGlobalState(e){return null!=this._scheduled[e]&&(clearTimeout(this._scheduled[e].expiration),delete this._scheduled[e],!0)}async _free(e,t,n,i){var o,s;try{if(({running:s}=await this._store.__free__(e,n.weight)),this.Events.trigger(\"debug\",`Freed ${n.id}`,i),0===s&&this.empty())return this.Events.trigger(\"idle\")}catch(e){return o=e,this.Events.trigger(\"error\",o)}}_run(e,t,n){var i,o,s;return t.doRun(),i=this._clearGlobalState.bind(this,e),s=this._run.bind(this,e,t),o=this._free.bind(this,e,t),this._scheduled[e]={timeout:setTimeout((()=>t.doExecute(this._limiter,i,s,o)),n),expiration:null!=t.options.expiration?setTimeout((function(){return t.doExpire(i,s,o)}),n+t.options.expiration):void 0,job:t}}_drainOne(e){return this._registerLock.schedule((()=>{var t,n,i,o,s;return 0===this.queued()?this.Promise.resolve(null):(s=this._queues.getFirst(),({options:o,args:t}=i=s.first()),null!=e&&o.weight>e?this.Promise.resolve(null):(this.Events.trigger(\"debug\",`Draining ${o.id}`,{args:t,options:o}),n=this._randomIndex(),this._store.__register__(n,o.weight,o.expiration).then((({success:e,wait:r,reservoir:a})=>{var l;return this.Events.trigger(\"debug\",`Drained ${o.id}`,{success:e,args:t,options:o}),e?(s.shift(),(l=this.empty())&&this.Events.trigger(\"empty\"),0===a&&this.Events.trigger(\"depleted\",l),this._run(n,i,r),this.Promise.resolve(o.weight)):this.Promise.resolve(null)}))))}))}_drainAll(e,t=0){return this._drainOne(e).then((n=>{var i;return null!=n?(i=null!=e?e-n:e,this._drainAll(i,t+n)):this.Promise.resolve(t)})).catch((e=>this.Events.trigger(\"error\",e)))}_dropAllQueued(e){return this._queues.shiftAll((function(t){return t.doDrop({message:e})}))}stop(t={}){var n,i;return t=L.load(t,this.stopDefaults),i=e=>{var t;return t=()=>{var t;return(t=this._states.counts)[0]+t[1]+t[2]+t[3]===e},new this.Promise(((e,n)=>t()?e():this.on(\"done\",(()=>{if(t())return this.removeAllListeners(\"done\"),e()}))))},n=t.dropWaitingJobs?(this._run=function(e,n){return n.doDrop({message:t.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule((()=>this._submitLock.schedule((()=>{var e,n,o;for(e in n=this._scheduled)o=n[e],\"RUNNING\"===this.jobStatus(o.job.options.id)&&(clearTimeout(o.timeout),clearTimeout(o.expiration),o.job.doDrop({message:t.dropErrorMessage}));return this._dropAllQueued(t.dropErrorMessage),i(0)}))))):this.schedule({priority:9,weight:0},(()=>i(1))),this._receive=function(n){return n._reject(new e.prototype.BottleneckError(t.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new e.prototype.BottleneckError(\"stop() has already been called\")),n}async _addToQueue(t){var n,i,o,s,r,a,l;({args:n,options:s}=t);try{({reachedHWM:r,blocked:i,strategy:l}=await this._store.__submit__(this.queued(),s.weight))}catch(e){return o=e,this.Events.trigger(\"debug\",`Could not queue ${s.id}`,{args:n,options:s,error:o}),t.doDrop({error:o}),!1}return i?(t.doDrop(),!0):r&&(null!=(a=l===e.prototype.strategy.LEAK?this._queues.shiftLastFrom(s.priority):l===e.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(s.priority+1):l===e.prototype.strategy.OVERFLOW?t:void 0)&&a.doDrop(),null==a||l===e.prototype.strategy.OVERFLOW)?(null==a&&t.doDrop(),r):(t.doQueue(r,i),this._queues.push(t),await this._drainAll(),r)}_receive(t){return null!=this._states.jobStatus(t.options.id)?(t._reject(new e.prototype.BottleneckError(`A job with the same id already exists (id=${t.options.id})`)),!1):(t.doReceive(),this._submitLock.schedule(this._addToQueue,t))}submit(...e){var t,n,i,o,s,r;return\"function\"==typeof e[0]?(s=e,[n,...e]=s,[t]=B.call(e,-1),o=L.load({},this.jobDefaults)):(r=e,[o,n,...e]=r,[t]=B.call(e,-1),o=L.load(o,this.jobDefaults)),(i=new I(((...e)=>new this.Promise((function(t,i){return n(...e,(function(...e){return(null!=e[0]?i:t)(e)}))}))),e,o,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise)).promise.then((function(e){return\"function\"==typeof t?t(...e):void 0})).catch((function(e){return Array.isArray(e)?\"function\"==typeof t?t(...e):void 0:\"function\"==typeof t?t(e):void 0})),this._receive(i)}schedule(...e){var t,n,i;return\"function\"==typeof e[0]?([i,...e]=e,n={}):[n,i,...e]=e,t=new I(i,e,n,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(t),t.promise}wrap(e){var t,n;return t=this.schedule.bind(this),(n=function(...n){return t(e.bind(this),...n)}).withOptions=function(n,...i){return t(n,e,...i)},n}async updateSettings(e={}){return await this._store.__updateSettings__(L.overwrite(e,this.storeDefaults)),L.overwrite(e,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(e=0){return this._store.__incrementReservoir__(e)}}return e.default=e,e.Events=O,e.version=e.prototype.version=R.version,e.strategy=e.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},e.BottleneckError=e.prototype.BottleneckError=d,e.Group=e.prototype.Group=A,e.RedisConnection=e.prototype.RedisConnection=$,e.IORedisConnection=e.prototype.IORedisConnection=k,e.Batcher=e.prototype.Batcher=x,e.prototype.jobDefaults={priority:5,weight:1,expiration:null,id:\"<no-id>\"},e.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:e.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},e.prototype.localStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:250},e.prototype.redisStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},e.prototype.instanceDefaults={datastore:\"local\",connection:null,id:\"<no-id>\",rejectOnDrop:!0,trackDoneStatus:!1,Promise:Promise},e.prototype.stopDefaults={enqueueErrorMessage:\"This limiter has been stopped and cannot accept new jobs.\",dropWaitingJobs:!0,dropErrorMessage:\"This limiter has been stopped.\"},e}.call(i);return U},\"object\"==typeof t.exports?t.exports=o():\"function\"==typeof define&&define.amd?define(o):i.Bottleneck=o()})),i.register(\"dPVr2\",(function(e,t){var n=i(\"en7Ar\"),o=i(\"bmV6j\"),s=i(\"lY7sD\"),r=i(\"j9tXU\");e.exports={push:function(e){$ui.push({props:{title:s.upload_errors},views:[{type:\"list\",props:{rowHeight:88,template:n.errors,data:e.map((e=>({image:{image:o.imageOf(e)},label:{text:e.error}})))},layout:$layout.fill,events:{didSelect:(t,n)=>function(e,t){const n=e[t.row].error;$ui.alert({title:s.upload_errors,message:n,actions:[{title:s.copy,handler:()=>r.copyText(n)},{title:s.cancel,style:$alertActionType.cancel}]})}(e,n)}}]})}}})),i.register(\"cqxF7\",(function(e,t){var n=i(\"lY7sD\"),o=i(\"bmV6j\"),s=i(\"4VTYh\"),r=i(\"8ZsIi\"),a=i(\"lp7dv\");function l(e,t){return e.selectedIndices.map((n=>t(e.data[n]))).join(\"\\n\\n\")}e.exports={insertTapped:function(e){const t=i(\"lSKqC\");r.insertIntoDocument(l(e,t.itemMarkdown))},deleteTapped:function(e,t,i){const r=e.main(),{endBulkEditing:l,reloadFooter:c,reloadToolbar:u}=i;$ui.alert({title:n.delete_selected,message:n.cannot_undo,actions:[{title:n.delete,style:$alertActionType.destructive,handler:()=>{const e=t.selectedIndices;e.sort(((e,t)=>t-e));for(const n of e)o.remove(t.data[n]),t.data.splice(n,1),r.delete(n);s.save(t.data),t.selectedIndices=[],0===t.data.length&&l(!0),c(),u(),a.light()}},{title:n.cancel,style:$alertActionType.cancel}]})},selectedText:l}})),i.register(\"cD1Wh\",(function(e,t){var n=i(\"8ZsIi\"),o=i(\"j9tXU\"),s=i(\"lp7dv\"),r=i(\"bmV6j\"),a=i(\"4VTYh\");e.exports={insertIntoDocument:function(e,t){const o=e.data[t.item];if(o.remotePath){const e=i(\"lSKqC\");n.insertIntoDocument(e.itemMarkdown(o))}else s.error()},copyURL:function(e,t){const n=e.data[t.item];n.remotePath?o.copyURL(n):s.error()},copyHTML:function(e,t){const n=e.data[t.item];n.remotePath?o.copyHTML(n):s.error()},copyMarkdown:function(e,t){const n=e.data[t.item];n.remotePath?o.copyMarkdown(n):s.error()},copyBBCode:function(e,t){const n=e.data[t.item];n.remotePath?o.copyBBCode(n):s.error()},openInBrowser:function(e,t){const n=e.data[t.item];n.remotePath?$app.openURL(n.remotePath):s.error()},deleteItem:function(e,t,n,i){const{endBulkEditing:o,reloadData:l,reloadFooter:c}=i,u=()=>{r.remove(t.data[n.item]),t.data.splice(n.item,1),a.save(t.data),e.main().delete(n),s.light(),0===t.data.length?l():c()};t.bulkEditing?(o(),$delay(.4,u)):u()}}})),i.register(\"4wRVo\",(function(e,t){var n=i(\"3aqxa\"),o=i(\"kPrPt\"),s=i(\"15llP\"),r=i(\"lY7sD\"),a=i(\"f30YM\"),l=i(\"9gLhp\"),c=i(\"1izSo\"),u=i(\"lSKqC\"),h=i(\"lp7dv\"),p=i(\"8ZsIi\");const d={cachedWidth:0},f=()=>$(\"preview-container\"),m=()=>$(\"image-viewer-toolbar\"),g=()=>$(\"preview-zoomable\"),_=()=>$(\"preview-spinner\"),y=()=>$(\"preview-image\"),b=()=>$(\"deleted-label\");function v(e,t){return{title:e.remotePath,pullDown:!0,asPrimary:!0,items:(()=>{const e=[{title:r.delete,symbol:s.trash,destructive:!0,handler:e=>t.deleteItem()},{title:r.open_in_browser,symbol:s.safari,handler:e=>t.openInBrowser()},{title:r.copy_bbcode,symbol:s.bbcode,handler:e=>t.copyBBCode()},{title:r.copy_markdown,symbol:s.markdown,handler:e=>t.copyMarkdown()},{title:r.copy_html,symbol:s.html,handler:e=>t.copyHTML()},{title:r.copy_url,symbol:s.link,handler:e=>t.copyURL()}];return p.onTaio&&e.push({title:r.insert_into_document,symbol:s.text_insert,handler:e=>t.insertIntoDocument()}),p.onMac?e.reverse():e})()}}function E(e){const t=p.onTaio&&!p.onMac?e.bounds:$rect(0,0,e.frame.width,m().frame.y),n=g();n.frame=t;const i=b();i.sizeToFit(),i.center=n.center;const o=e.frame.width;if(d.cachedWidth!==o)if(d.cachedWidth=o,\"function\"==typeof n.updateZoomScale)n.updateZoomScale();else{const e=y();e.image=e.image}}e.exports={push:function(e,t,i){const d=u.itemTitle(e),g=e.metadata,$=l(g.size),k=c.readableDateFrom(e.creationDate);$ui.push({props:{title:d,navButtons:[{title:r.share,symbol:s.share,handler:e=>function(e){const t=y().image;if(!t)return void h.error();if(p.onMac){const n=e.toLowerCase().endsWith(\".png\")?t.png:t.jpg(1);$share.sheet({name:e,data:n})}else $share.sheet(t)}(d)}]},views:[...n.makeToolbar(\"image-viewer-toolbar\"),{type:\"view\",props:{id:\"preview-container\",clipsToBounds:!0,userInteractionEnabled:!1},layout:$layout.fill,views:[{type:\"scroll\",props:{id:\"preview-zoomable\",zoomEnabled:!0,maxZoomScale:Math.max(1.5*t.size.width/g.width,1.5*t.size.height/g.height),clipsToBounds:!1},views:[{type:\"spinner\",props:{id:\"preview-spinner\",style:0,loading:!0},layout:$layout.center},{type:\"image\",props:{id:\"preview-image\",isAccessibilityElement:!0,hidden:!0},events:{ready:t=>function(e,t){if(t.set({src:e.remotePath,handler:async e=>{await $wait(0),y().hidden=!1,_().loading=!1,f().userInteractionEnabled=!e.error,b().hidden=!e.error}}),p.onMac){const n=$objc(\"UIToolTipInteraction\").$alloc().$initWithDefaultToolTip(e.remotePath);n&&t.ocValue().$addInteraction(n)}}(e,t)}}]},{type:\"label\",props:{id:\"deleted-label\",hidden:!0,text:r.cannot_load_image}}],events:{ready:()=>f().moveToBack(),layoutSubviews:E}},{type:\"button\",props:{bgcolor:o.clear,accessibilityLabel:r.options,menu:v(e,i)},layout:(e,t)=>{e.centerY.equalTo(m()),e.right.equalTo(t.super.safeAreaRight).inset(10),e.size.equalTo($size(44,44))},views:[{type:\"image\",props:{symbol:s.more,tintColor:o.blue},layout:(e,t)=>{e.center.equalTo(t.super),e.size.equalTo($size(28,28))}}]},{type:\"label\",props:{align:$align.center,lines:2,font:$font(a.footerFontSize),text:`${g.width}w * ${g.height}h, ${$}\\n${k}`,accessibilityLabel:`${r.image_width} ${g.width}, ${r.image_height} ${g.height}, ${$}\\n${k}`},layout:e=>{e.top.bottom.equalTo(m()),e.left.right.inset(60)}}]})}}})),i.register(\"9gLhp\",(function(e,t){var n,i;n=e.exports,i=function(){\"use strict\";var e=/^(b|B)$/,t={iec:{bits:[\"bit\",\"Kibit\",\"Mibit\",\"Gibit\",\"Tibit\",\"Pibit\",\"Eibit\",\"Zibit\",\"Yibit\"],bytes:[\"B\",\"KiB\",\"MiB\",\"GiB\",\"TiB\",\"PiB\",\"EiB\",\"ZiB\",\"YiB\"]},jedec:{bits:[\"bit\",\"Kbit\",\"Mbit\",\"Gbit\",\"Tbit\",\"Pbit\",\"Ebit\",\"Zbit\",\"Ybit\"],bytes:[\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"]}},n={iec:[\"\",\"kibi\",\"mebi\",\"gibi\",\"tebi\",\"pebi\",\"exbi\",\"zebi\",\"yobi\"],jedec:[\"\",\"kilo\",\"mega\",\"giga\",\"tera\",\"peta\",\"exa\",\"zetta\",\"yotta\"]},i={floor:Math.floor,ceil:Math.ceil};function o(o){var s,r,a,l,c,u,h,p,d,f,m,g,_,y,b,v,E,$,k,w,S,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=[],O=0;if(isNaN(o))throw new TypeError(\"Invalid number\");if(a=!0===A.bits,b=!0===A.unix,g=!0===A.pad,r=A.base||10,_=void 0!==A.round?A.round:b?1:2,h=void 0!==A.locale?A.locale:\"\",p=A.localeOptions||{},v=void 0!==A.separator?A.separator:\"\",E=void 0!==A.spacer?A.spacer:b?\"\":\" \",k=A.symbols||{},$=2===r?A.standard||\"iec\":\"jedec\",m=A.output||\"string\",c=!0===A.fullform,u=A.fullforms instanceof Array?A.fullforms:[],s=void 0!==A.exponent?A.exponent:-1,w=i[A.roundingMethod]||Math.round,d=(f=Number(o))<0,l=r>2?1e3:1024,S=!1===isNaN(A.precision)?parseInt(A.precision,10):0,d&&(f=-f),(-1===s||isNaN(s))&&(s=Math.floor(Math.log(f)/Math.log(l)))<0&&(s=0),s>8&&(S>0&&(S+=8-s),s=8),\"exponent\"===m)return s;if(0===f)T[0]=0,y=T[1]=b?\"\":t[$][a?\"bits\":\"bytes\"][s];else{O=f/(2===r?Math.pow(2,10*s):Math.pow(1e3,s)),a&&(O*=8)>=l&&s<8&&(O/=l,s++);var I=Math.pow(10,s>0?_:0);T[0]=w(O*I)/I,T[0]===l&&s<8&&void 0===A.exponent&&(T[0]=1,s++),y=T[1]=10===r&&1===s?a?\"kbit\":\"kB\":t[$][a?\"bits\":\"bytes\"][s],b&&(T[1]=T[1].charAt(0),e.test(T[1])&&(T[0]=Math.floor(T[0]),T[1]=\"\"))}if(d&&(T[0]=-T[0]),S>0&&(T[0]=T[0].toPrecision(S)),T[1]=k[T[1]]||T[1],!0===h?T[0]=T[0].toLocaleString():h.length>0?T[0]=T[0].toLocaleString(h,p):v.length>0&&(T[0]=T[0].toString().replace(\".\",v)),g&&!1===Number.isInteger(T[0])&&_>0){var z=v||\".\",D=T[0].toString().split(z),C=D[1]||\"\",P=C.length,H=_-P;T[0]=\"\".concat(D[0]).concat(z).concat(C.padEnd(P+H,\"0\"))}return c&&(T[1]=u[s]?u[s]:n[$][s]+(a?\"bit\":\"byte\")+(1===T[0]?\"\":\"s\")),\"array\"===m?T:\"object\"===m?{value:T[0],symbol:T[1],exponent:s,unit:y}:T.join(E)}return o.partial=function(e){return function(t){return o(t,e)}},o},\"object\"==typeof e.exports?e.exports=i():\"function\"==typeof define&&define.amd?define(i):(n=\"undefined\"!=typeof globalThis?globalThis:n||self).filesize=i()})),__IMAGE_UPLOADER_VERSION__=\"1.1.0\",$app.strings={en:{LANGUAGE_TAG:\"en\",README_FILE:\"README.md\",OK:\"OK\",CANCEL:\"Cancel\",UPLOAD_IMAGE:\"Upload Image\",UPLOADERS:\"Uploaders\",SETTINGS:\"Settings\",NO_UPLOADER_TITLE:\"No Uploader\",NO_UPLOADER_MESSAGE:\"Add an uploader to get started.\",ADD_UPLOADER:\"Add Uploader\",TIPS:\"Tips\",UPLOADERS_TIPS:\"Swipe to delete, Drag & Drop to reorder.\",UPLOADERS_EMPTY_TEXT:\"Add an uploader to start\",UPLOADER_NAME:\"Uploader Name\",FILE_PATH:\"File Path\",FILE_PATH_DOCS_TITLE:\"File Path Docs\",FILE_PATH_DOCS_CONTENT:\"> Provide dynamic and flexible paths for file uploading.\\\\n\\\\n## Variables\\\\n\\\\n- \\\\`{year}\\\\` current year\\\\n- \\\\`{month}\\\\` current month\\\\n- \\\\`{day}\\\\` current day\\\\n- \\\\`{hour}\\\\` current hour\\\\n- \\\\`{minute}\\\\` current minute\\\\n- \\\\`{second}\\\\` current second\\\\n- \\\\`{timestamp}\\\\` epoch time in milliseconds\\\\n- \\\\`{filename}\\\\` original file name\\\\n- \\\\`{suffix}\\\\` file name extension\\\\n- \\\\`{uuid}\\\\` generated uuid\\\\n- \\\\`{random}\\\\` random text\\\\n\\\\n## Example\\\\n\\\\nFor example, today is **June 29, 2007**, and we are uploading file **IMG_01.png** with file path set to **Pics/\\\\`{year}\\\\`/\\\\`{month}\\\\`/\\\\`{day}\\\\`/\\\\`{filename}\\\\`.\\\\`{suffix}\\\\`**, it's going to upload the file to your server under **Pics/2007/06/29/IMG_01.png**.\",SOURCE_DOCUMENT:\"From Document\",SOURCE_FILES:\"Choose File\",SOURCE_PHOTOS:\"Choose Photo\",SOURCE_CAMERA:\"Take Photo\",SOURCE_SCANNER:\"Scan Documents\",SOURCE_CLIPBOARD:\"From Clipboard\",SELECT_UPLODER:\"Select Uploader\",CONFIG_UPLOADER_MESSAGE:\"You can configure uploaders by tapping the button on the navigation bar.\",HISTORY_EMPTY_TEXT:\"No uploaded images\",NUMBER_OF_UPLOADS_SINGULAR:\"uploaded image\",NUMBER_OF_UPLOADS_PLURAL:\"uploaded images\",FINISHED_WITH_ERRORS:\"Finished with Errors\",FAILED_TO_UPLOAD_SINGULAR:\"image failed to upload.\",FAILED_TO_UPLOAD_PLURAL:\"images failed to upload.\",UPLOAD_FAILED:\"Upload Failed\",CHECK_OUT_ERRORS:\"Check out errors\",BULK_EDIT:\"Bulk Edit\",SELECT_ALL:\"Select All\",SELECT_FAILED:\"Select Failed\",DESELECT_ALL:\"Deselect All\",COPY:\"Copy\",INSERT_INTO_DOCUMENT:\"Insert into Document\",COPY_URL:\"Copy URL\",COPY_MARKDOWN:\"Copy Markdown\",COPY_HTML:\"Copy HTML\",COPY_BBCODE:\"Copy BBCode\",OPEN_IN_BROWSER:\"Open in Browser\",DELETE:\"Delete\",DELETE_SELECTED:\"Delete Selected\",DONE:\"Done\",CANNOT_UNDO:\"This action cannot be undone.\",UPLOAD_ERRORS:\"Upload Errors\",SHARE:\"Share\",CANNOT_LOAD_IMAGE:\"Cannot load image\",BULK_ACTIONS:\"Bulk Actions\",DELETE_REMOTE_FILE:\"Delete Remote File\",ABOUT:\"About\",SOURCE_CODE:\"Source Code\",COMPRESS_IMAGES:\"Compress Images\",COMPRESS_QUALITY:\"Compress Quality\",IMAGE_SIZE:\"Image Size\",QUALITY_LOW:\"Low\",QUALITY_MEDIUM:\"Medium\",QUALITY_HIGH:\"High\",SIZE_RAW:\"Raw\",SIZE_LARGE:\"Large\",SIZE_MEDIUM:\"Medium\",SIZE_SMALL:\"Small\",ONLY_UPLOAD:\"Only Upload\",UPLOAD_AND_REPLACE:\"Upload & Replace Paths\",NO_LOCAL_IMAGES:\"No local images in this document\",DELETE_LOCAL_IMAGES_TITLE:\"Upload Completed\",DELETE_LOCAL_IMAGES_MESSAGE:\"Document updated, do you want to delete uploaded local images? Please note that this cannot be undone.\",DEFAULT_IMAGE_ALT:\"Image\",SELECTED:\"Selected\",DOUBLE_TAP_TO_SELECT:\"Double tap to select\",UPLOADING:\"Uploading...\",OPTIONS:\"Options\",BACKUP_IMAGES:\"Backup Images\",RESTORE_IMAGES:\"Restore Images\",RESTORE_IMAGES_MESSAGE:\"Do you want to merge changes into local or drop local files by overwriting them?\",ARCHIVE:\"Archive\",IMAGE_WIDTH:\"Image width\",IMAGE_HEIGHT:\"Image height\",MERGE:\"Merge\",OVERWRITE:\"Overwrite\",FOUND_NEW_VERSION:\"Found new version\",UPDATE_TO_NEW_VERSION:\"Update to the latest version?\",UPDATE:\"Update\",DOCS_URL:\"https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS.md\",TAIO_UPDATE_URL:\"https://github.com/cyanzhong/Image-Uploader/raw/main/dist/image-uploader-en.json\",THUMBNAIL_COLUMNS:\"Thumbnail Columns\",THUMBNAIL_SIZE:\"Thumbnail Quality\",LEARN_MORE:\"Learn More\",CURRENT_VERSION:\"Current Version\",GET_LATEST_VERSION:\"Get Latest Version\",TOGGLE_EDITING:\"Toggle Editing\"},\"zh-Hans\":{LANGUAGE_TAG:\"zh-Hans\",README_FILE:\"README_CN.md\",OK:\"好的\",CANCEL:\"取消\",UPLOAD_IMAGE:\"上传图片\",UPLOADERS:\"图床列表\",SETTINGS:\"设置\",NO_UPLOADER_TITLE:\"没有图床\",NO_UPLOADER_MESSAGE:\"添加一个图床来开始。\",ADD_UPLOADER:\"添加图床\",TIPS:\"小提示\",UPLOADERS_TIPS:\"滑动某项来删除，拖拽项目来排序。\",UPLOADERS_EMPTY_TEXT:\"添加一个图床来开始\",UPLOADER_NAME:\"图床名称\",FILE_PATH:\"文件路径\",FILE_PATH_DOCS_TITLE:\"文件路径说明\",FILE_PATH_DOCS_CONTENT:\"> 为文件上传提供动态、灵活的文件路径。\\\\n\\\\n## 变量\\\\n\\\\n- \\\\`{year}\\\\` 当前年份\\\\n- \\\\`{month}\\\\` 当前月份\\\\n- \\\\`{day}\\\\` 当前日期\\\\n- \\\\`{hour}\\\\` 当前小时\\\\n- \\\\`{minute}\\\\` 当前分钟\\\\n- \\\\`{second}\\\\` 当前秒数\\\\n- \\\\`{timestamp}\\\\` 时间戳毫秒数\\\\n- \\\\`{filename}\\\\` 原始文件名\\\\n- \\\\`{suffix}\\\\` 文件扩展名\\\\n- \\\\`{uuid}\\\\` 生成的 uuid\\\\n- \\\\`{random}\\\\` 随机字符串\\\\n\\\\n## 示例\\\\n\\\\n例如，今天是 **2007 年 6 月 29 日**，我们通过文件路径 **Pics/\\\\`{year}\\\\`/\\\\`{month}\\\\`/\\\\`{day}\\\\`/\\\\`{filename}\\\\`.\\\\`{suffix}\\\\`** 来上传 **IMG_01.png**，该文件会被上传到您服务器的 **Pics/2007/06/29/IMG_01.png** 位置。\",SOURCE_DOCUMENT:\"从当前文档选取\",SOURCE_FILES:\"选取文件\",SOURCE_PHOTOS:\"选取照片\",SOURCE_CAMERA:\"拍照\",SOURCE_SCANNER:\"扫描文稿\",SOURCE_CLIPBOARD:\"读取剪贴板\",SELECT_UPLODER:\"选择图床\",CONFIG_UPLOADER_MESSAGE:\"您可以通过轻点导航栏上的按钮配置图床。\",HISTORY_EMPTY_TEXT:\"没有已上传的图片\",NUMBER_OF_UPLOADS_SINGULAR:\"张已上传图片\",NUMBER_OF_UPLOADS_PLURAL:\"张已上传图片\",FINISHED_WITH_ERRORS:\"上传出现错误\",FAILED_TO_UPLOAD_SINGULAR:\"张图片上传失败。\",FAILED_TO_UPLOAD_PLURAL:\"张图片上传失败。\",UPLOAD_FAILED:\"上传失败\",CHECK_OUT_ERRORS:\"检查错误\",BULK_EDIT:\"批量编辑\",SELECT_ALL:\"选择全部\",SELECT_FAILED:\"选择失败项\",DESELECT_ALL:\"取消选择\",COPY:\"复制\",INSERT_INTO_DOCUMENT:\"插入到当前文档\",COPY_URL:\"复制 URL\",COPY_MARKDOWN:\"复制 Markdown\",COPY_HTML:\"复制 HTML\",COPY_BBCODE:\"复制 BBCode\",OPEN_IN_BROWSER:\"在浏览器打开\",DELETE:\"删除\",DELETE_SELECTED:\"删除选中\",DONE:\"完成\",CANNOT_UNDO:\"此操作无法被撤销。\",UPLOAD_ERRORS:\"上传错误\",SHARE:\"分享\",CANNOT_LOAD_IMAGE:\"无法加载图片\",BULK_ACTIONS:\"批量操作\",DELETE_REMOTE_FILE:\"删除远程文件\",ABOUT:\"关于\",SOURCE_CODE:\"项目源码\",COMPRESS_IMAGES:\"压缩图片\",COMPRESS_QUALITY:\"压缩质量\",IMAGE_SIZE:\"图片大小\",QUALITY_LOW:\"低\",QUALITY_MEDIUM:\"中\",QUALITY_HIGH:\"高\",SIZE_RAW:\"原图\",SIZE_LARGE:\"大\",SIZE_MEDIUM:\"中\",SIZE_SMALL:\"小\",ONLY_UPLOAD:\"仅上传\",UPLOAD_AND_REPLACE:\"上传并替换路径\",NO_LOCAL_IMAGES:\"此文档没有本地图片\",DELETE_LOCAL_IMAGES_TITLE:\"上传完成\",DELETE_LOCAL_IMAGES_MESSAGE:\"文档已更新，您希望删除已上传的本地图片吗？请注意此操作无法被撤销。\",DEFAULT_IMAGE_ALT:\"图片\",SELECTED:\"已选定\",DOUBLE_TAP_TO_SELECT:\"轻点两下来选中\",UPLOADING:\"上传中...\",OPTIONS:\"选项\",BACKUP_IMAGES:\"备份图片\",RESTORE_IMAGES:\"从备份恢复\",RESTORE_IMAGES_MESSAGE:\"您想把改动合并到本地，还是通过覆盖来放弃本地文件？\",ARCHIVE:\"档案\",IMAGE_WIDTH:\"图片宽度\",IMAGE_HEIGHT:\"图片高度\",MERGE:\"合并\",OVERWRITE:\"覆盖\",FOUND_NEW_VERSION:\"发现新版本\",UPDATE_TO_NEW_VERSION:\"更新到最新版本？\",UPDATE:\"更新\",DOCS_URL:\"https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS_CN.md\",TAIO_UPDATE_URL:\"https://github.com/cyanzhong/Image-Uploader/raw/main/dist/image-uploader-zh-Hans.json\",THUMBNAIL_COLUMNS:\"缩略图列数\",THUMBNAIL_SIZE:\"缩略图质量\",LEARN_MORE:\"了解更多\",CURRENT_VERSION:\"当前版本\",GET_LATEST_VERSION:\"获取最新版\",TOGGLE_EDITING:\"切换编辑状态\"}},$app.theme=\"auto\",$app.minSDKVer=\"2.19.0\",$app.minOSVer=\"14.0.0\",$app.idleTimerDisabled=!1,$app.autoKeyboardEnabled=!1,$app.keyboardToolbarEnabled=!1,$app.rotateDisabled=!1,__IMAGE_UPLOADER_README__={\"README.md\":'[💬 English / 中文](https://github.com/cyanzhong/Image-Uploader/blob/main/README_CN.md)\\n\\n## Image Uploader\\n\\nThe all-in-one image uploader for [Taio](https://taio.app) and [JSBox](https://docs.xteko.com/#/en/).\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_1.PNG\" width=\"360\" alt=\"Pick Images\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_2.PNG\" width=\"360\" alt=\"Bulk Editing\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_3.PNG\" width=\"360\" alt=\"Upload Local Images\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_4.PNG\" width=\"360\" alt=\"Rich Cloud Services\"/>\\n\\n## Installation\\n\\nFor Taio, check [here](https://actions.taio.app/#/utility?id=image-uploader).\\n\\n## Features\\n\\n- [x] Many cloud services are supported\\n- [x] Many ways to pick images\\n- [x] Image tools like resizing and compression\\n- [x] Designed for Markdown\\n- [x] Sensitive data is stored in the keychain\\n- [x] Fully open sourced, trustworthy\\n- [x] Fully customizable, plugin-like design\\n- [x] Native UI, feels right at home\\n- [x] Works for iPhone, iPad, and Mac\\n- [x] Lightweight, bundled size is only 160 KB\\n\\n## Customizing Uploaders\\n\\nThere are two ways to customize uploaders, using the custom uploader or creating your own uploaders, please check out the [docs](https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS.md).\\n\\n## Building Taio Actions\\n\\nTo build Taio [text actions](https://docs.taio.app/#/quick-start/actions) from source, simply run:\\n\\n```\\nyarn install && yarn build\\n```\\n\\nGenerated files are located in the `dist` folder, AirDrop to the device or open the file from Taio to complete the installation.\\n\\n## TODO\\n\\n- [ ] Add uploaders from url\\n- [ ] Delete files from remote\\n\\n## Third-party Licenses\\n\\n- [crypto-js](https://github.com/brix/crypto-js/blob/develop/LICENSE)\\n- [bottleneck](https://github.com/SGrondin/bottleneck/blob/master/LICENSE)\\n- [filesize.js](https://github.com/avoidwork/filesize.js/blob/master/LICENSE)',\"README_CN.md\":'[💬 English / 中文](https://github.com/cyanzhong/Image-Uploader)\\n\\n## 图片上传\\n\\n为 [Taio](https://taio.app/cn/) 和 [JSBox](https://docs.xteko.com) 设计的全功能图片上传工具。\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_1.PNG\" width=\"360\" alt=\"选择图片\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_2.PNG\" width=\"360\" alt=\"批量编辑\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_3.PNG\" width=\"360\" alt=\"上传本地图片\"/>\\n\\n<img src=\"https://github.com/cyanzhong/Image-Uploader/raw/main/screenshots/IMG_4.PNG\" width=\"360\" alt=\"多种云服务\"/>\\n\\n## 安装\\n\\n对于 Taio，请查看[这里](https://actions.taio.app/#/cn/utility?id=%e5%9b%be%e7%89%87%e4%b8%8a%e4%bc%a0)。\\n\\n## 主要特性\\n\\n- [x] 支持十几种常见云服务\\n- [x] 多种选择图片的方式\\n- [x] 图片缩放和压缩等工具\\n- [x] 为 Markdown 设计\\n- [x] 敏感数据存放于钥匙串\\n- [x] 完全开源，值得信赖\\n- [x] 完全可定制，插件化设计\\n- [x] 极致的系统原生界面\\n- [x] 支持 iPhone、iPad 和 Mac\\n- [x] 轻量，打包文件仅 160 KB\\n\\n## 自定义图床\\n\\n有两种方法来定制图床，使用自定义图床或创建您自己的图床，请查看[文档](https://github.com/cyanzhong/Image-Uploader/blob/main/DOCS_CN.md)来了解更多。\\n\\n## 构建 Taio 动作\\n\\n从源码构建 Taio [文本动作](https://docs.taio.app/#/cn/quick-start/actions)，只需运行：\\n\\n```\\nyarn install && yarn build\\n```\\n\\n生成的文件位于 `dist` 目录中，AirDrop 到设备或从 Taio 打开文件来完成安装。\\n\\n## TODO\\n\\n- [ ] 支持通过链接扩展图床\\n- [ ] 支持删除服务器上的文件\\n\\n## 第三方开源协议\\n\\n- [crypto-js](https://github.com/brix/crypto-js/blob/develop/LICENSE)\\n- [bottleneck](https://github.com/SGrondin/bottleneck/blob/master/LICENSE)\\n- [filesize.js](https://github.com/avoidwork/filesize.js/blob/master/LICENSE)'},$app.isDebugging&&($app.idleTimerDisabled=!0);({init:i(\"aVh5T\")}).init(),i(\"kF9tO\").cleanUp(),i(\"duNOi\").checkForUpdate(),$actions.finish()})();"
        }
      }
    }
  ],
  "buildVersion": 1,
  "name": "Image Uploader",
  "clientMinVersion": 1,
  "summary": "",
  "icon": {
    "glyph": "icloud.and.arrow.up",
    "color": "#7881FA"
  },
  "clientVersion": 592
}